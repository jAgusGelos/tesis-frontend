{"version":3,"sources":["./src/app/pages/room/room.component.html","./src/app/pages/room/room.component.ts","./src/app/pages/room/room-routing.module.ts","./src/app/core/services/room.service.ts","./src/app/pages/room/room.module.ts"],"names":[],"mappings":"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","file":"pages-room-room-module.js","sourcesContent":["<app-room *ngIf=\"!edit\"\n[roomList]='roomList'\n(newRoomEvent)='newRoom()' (editRoomEvent)='editRoom($event)'\n(deleteRoomEvent)='deleteRoom($event)' (goBackEvent) = 'goBack()'\n></app-room>\n<app-room-form *ngIf='edit' [room]='room' (roomEmitter)= 'toggleCreateRoom($event)'\n(cancelRoom)='newRoom($event)'></app-room-form>\n","import { Component, OnInit } from '@angular/core';\nimport { ActivatedRoute, Router } from '@angular/router';\nimport { IRoom } from 'src/app/core/models/IRoom';\nimport { RoomService } from 'src/app/core/services/room.service';\n\n@Component({\n  selector: 'app-room-page',\n  templateUrl: './room.component.html',\n  styleUrls: ['./room.component.css']\n})\nexport class RoomComponent implements OnInit {\n\n  constructor(private roomService: RoomService,\n              private router: Router) {\n                this.router.routeReuseStrategy.shouldReuseRoute = () => {\n                  return false;\n                };\n              }\n  roomList = [];\n  edit = false;\n  room = {};\n  id = '';\n\n  ngOnInit(): void {\n    window.scrollTo(0, 0);\n    this.getRooms();\n  }\n\n  getRooms(): void{\n    this.roomService.getRooms().subscribe((res: any) => {\n       this.roomList = res.data[0];\n      });\n  }\n\n  newRoom(): void{\n    this.edit = !this.edit;\n    this.room = {};\n\n  }\n\n  deleteRoom(item: IRoom): void{\n    this.roomService.deteleRoom(item).subscribe((res: any) => {\n      alert('El aula ha sido eliminada');\n      this.router.navigateByUrl('/room');\n    });\n  }\n\n  editRoom(room: any): void {\n    this.edit = !this.edit;\n    this.room = room;\n  }\n\n  toggleCreateRoom(item: IRoom): void{\n    if (item.id === null) {\n      this.roomService.postRoom(item).subscribe((res: any) => {\n        alert('Aula Creada');\n        this.router.navigateByUrl('/room');\n      });\n    }\n    else{\n      this.roomService.putRoom(item).subscribe((res: any) => {\n        alert('Aula Modificada');\n        this.router.navigateByUrl('/room');\n      });\n    }\n    this.getRooms();\n  }\n\n  goBack(): void {\n    this.router.navigate(['/misCongresos']);\n  }\n}\n","import { NgModule } from '@angular/core';\nimport { RouterModule, Routes } from '@angular/router';\nimport { RoomComponent } from './room.component';\n\nconst routes: Routes = [{\n  path: '',\n  component: RoomComponent\n}];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule]\n})\nexport class RoomRoutingModule { }\n","import { HttpClient } from '@angular/common/http';\nimport { Injectable } from '@angular/core';\nimport { environment } from 'src/environments/environment';\nimport { IRoom } from '../models/IRoom';\nimport { AuthService } from './auth.service';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class RoomService {\n\n  private apiURL = environment.apiURL;\n  sede: number;\n  constructor(private httpClient: HttpClient,\n              private auth: AuthService) {\n                this.sede = this.auth.getSedeId();\n               }\n\n  postRoom(room: any): any{\n    const postRoom = {\n      nombre: room.nombre,\n      descripcion: room.descripcion,\n      capacidad: room.capacidad,\n      sede: this.sede\n    };\n    return this.httpClient.post(this.apiURL + 'congresos/crear-aula/', postRoom);\n  }\n  putRoom(room: any): any{\n    console.log(room);\n\n    const postRoom = {\n      id: room.id,\n      nombre: room.nombre,\n      descripcion: room.descripcion,\n      capacidad: room.capacidad,\n      sede: this.sede\n    };\n    return this.httpClient.put(this.apiURL + 'congresos/editar-aula/', postRoom);\n  }\n\n  getRooms(): any{\n    return this.httpClient.get(this.apiURL + 'congresos/lista-aulas/?idSede=' + this.sede);\n  }\n\n  deteleRoom(room: IRoom): any{\n    // return this.httpClient.delete<IRoom>(this.apiURL);\n    return this.httpClient.request('delete', this.apiURL + 'congresos/eliminar-aula/',\n    {body: {id: room.id, sede: this.sede}});\n  }\n\n}\n","import { CUSTOM_ELEMENTS_SCHEMA, NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\n\nimport { RoomRoutingModule } from './room-routing.module';\nimport { RoomComponent } from './room.component';\nimport { CoreModule } from 'src/app/core/core.module';\n\n\n\n@NgModule({\n  declarations: [RoomComponent],\n  imports: [\n    CommonModule, \n    RoomRoutingModule,\n    CoreModule\n  ],\n  schemas: [CUSTOM_ELEMENTS_SCHEMA],\n})\nexport class RoomModule { }\n"],"sourceRoot":"webpack:///"}