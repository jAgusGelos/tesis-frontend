(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{PHhj:function(t,e,o){"use strict";o.d(e,"a",function(){return n});var s=o("mrSG"),i=o("tk/3"),r=o("fXoL"),a=o("AytR"),c=o("7dP1");let n=class{constructor(t,e){this.httpClient=t,this.auth=e,this.apiURL=a.a.apiURL,this.sede=this.auth.getSedeId()}postRoom(t){const e={nombre:t.nombre,descripcion:t.descripcion,capacidad:t.capacidad,sede:this.sede};return this.httpClient.post(this.apiURL+"congresos/crear-aula/",e)}putRoom(t){console.log(t);const e={id:t.id,nombre:t.nombre,descripcion:t.descripcion,capacidad:t.capacidad,sede:this.sede};return this.httpClient.put(this.apiURL+"congresos/editar-aula/",e)}getRooms(){return this.httpClient.get(this.apiURL+"congresos/lista-aulas/?idSede="+this.sede)}deteleRoom(t){return this.httpClient.request("delete",this.apiURL+"congresos/eliminar-aula/",{body:{id:t.id,sede:this.sede}})}};n.ctorParameters=()=>[{type:i.b},{type:c.a}],n=Object(s.c)([Object(r.F)({providedIn:"root"})],n)},bZre:function(t,e,o){"use strict";o.r(e),o.d(e,"RoomModule",function(){return l});var s=o("mrSG"),i=o("fXoL"),r=o("ofXK"),a=o("tyNb"),c=o("5eHb"),n=o("PHhj");let m=class{constructor(t,e,o){this.roomService=t,this.router=e,this.toastr=o,this.roomList=[],this.edit=!1,this.room={},this.id="",this.router.routeReuseStrategy.shouldReuseRoute=()=>!1}ngOnInit(){window.scrollTo(0,0),this.getRooms()}getRooms(){this.roomService.getRooms().subscribe(t=>{this.roomList=t.data[0]})}newRoom(){this.edit=!this.edit,this.room={}}deleteRoom(t){this.roomService.deteleRoom(t).subscribe(t=>{this.toastr.success("El aula ha sido eliminada"),this.router.navigateByUrl("/room")})}editRoom(t){this.edit=!this.edit,this.room=t}toggleCreateRoom(t){null===t.id?this.roomService.postRoom(t).subscribe(t=>{this.toastr.success("Aula Creada"),this.router.navigateByUrl("/room")}):this.roomService.putRoom(t).subscribe(t=>{this.toastr.success("Aula Modificada"),this.router.navigateByUrl("/room")}),this.getRooms()}goBack(){this.router.navigate(["/misCongresos"])}};m.ctorParameters=()=>[{type:n.a},{type:a.b},{type:c.d}],m=Object(s.c)([Object(i.o)({selector:"app-room-page",template:"<app-room *ngIf=\"!edit\"\n[roomList]='roomList'\n(newRoomEvent)='newRoom()' (editRoomEvent)='editRoom($event)'\n(deleteRoomEvent)='deleteRoom($event)' (goBackEvent) = 'goBack()'\n></app-room>\n<app-room-form *ngIf='edit' [room]='room' (roomEmitter)= 'toggleCreateRoom($event)'\n(cancelRoom)='newRoom($event)'></app-room-form>\n",styles:[""]})],m);const d=[{path:"",component:m}];let h=class{};h=Object(s.c)([Object(i.N)({imports:[a.c.forChild(d)],exports:[a.c]})],h);var p=o("pKmL");let l=class{};l=Object(s.c)([Object(i.N)({declarations:[m],imports:[r.c,h,p.a],schemas:[i.j]})],l)}}]);
//# sourceMappingURL=7.js.map