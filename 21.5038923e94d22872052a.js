(window.webpackJsonp=window.webpackJsonp||[]).push([[21],{Mi64:function(t,e,r){"use strict";r.r(e),r.d(e,"CertificateModule",function(){return H});var o=r("ofXK"),i=r("tyNb"),n=r("fXoL"),c=r("AytR"),a=r("tk/3"),s=r("7dP1");let l=(()=>{class t{constructor(t,e){this.httpClient=t,this.auth=e,this.apiURL=c.a.apiURL,this.idCongress=e.getCongressId()}getPictureFile(t){return this.httpClient.get(this.apiURL+"certificados/getArchivoTemplate/?idCertificado="+t,{responseType:"arraybuffer"})}postCertificate(t){const e=new FormData;return e.append("archivo",t.archivo),e.append("nombre",t.nombre),e.append("descripcion",t.desc),this.httpClient.post(this.apiURL+"certificados/altaCertificado/",e)}getCertificates(){return this.httpClient.get(this.apiURL+"certificados/getCertificados/")}getDetails(t){return this.httpClient.get(this.apiURL+"certificados/devolverDetallesCertificados/?idCertificado="+t)}putCertificate(t){const e=new FormData;return e.append("template",t.picture),e.append("nombre",t.nombre),e.append("descripcion",t.desc),e.append("id",t.idCertificado),this.httpClient.put(this.apiURL+"certificados/modifCertificado/?idCertificado="+t.idCertificado,e)}deleteCertificate(t){return this.httpClient.delete(this.apiURL+"certificados/bajaCertificado/?idCertificado="+t.id)}postplayCert(t){return this.httpClient.post(this.apiURL+"certificados/pruebaCertificadoParametrizado/",t)}postFinalCert(t){return this.httpClient.post(this.apiURL+"certificados/altaDetalleCertificado/",t)}}return t.\u0275fac=function(e){return new(e||t)(n.Yb(a.b),n.Yb(s.a))},t.\u0275prov=n.Ib({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var b=r("5eHb"),d=r("KaZm"),f=r("bcAm");function m(t,e){if(1&t){const t=n.Sb();n.Rb(0,"div",16),n.Rb(1,"a",17),n.bc("click",function(){n.Bc(t);const e=n.dc().$implicit;return n.dc(2).toggleEdit(e)}),n.Nb(2,"i",18),n.Qb(),n.Rb(3,"a",19),n.bc("click",function(){n.Bc(t);const e=n.dc().$implicit;return n.dc(2).toggleRemoveHandled(e)}),n.Nb(4,"i",20),n.Qb(),n.Rb(5,"a",21),n.bc("click",function(){n.Bc(t);const e=n.dc().$implicit;return n.dc(2).toggleGameHandled(e)}),n.Nb(6,"i",22),n.Qb(),n.Qb()}}function u(t,e){if(1&t&&(n.Rb(0,"tr",13),n.Rb(1,"td"),n.Jc(2),n.ec(3,"titlecase"),n.Qb(),n.Rb(4,"td"),n.Jc(5),n.Qb(),n.Rb(6,"td",14),n.Hc(7,m,7,0,"div",15),n.Qb(),n.Qb()),2&t){const t=e.$implicit;n.Ab(2),n.Kc(n.fc(3,3,t.nombre)),n.Ab(3),n.Kc(t.descripcion),n.Ab(2),n.lc("ngIf",!t.enviado_corregir)}}function p(t,e){if(1&t&&(n.Rb(0,"table",8),n.Rb(1,"thead",9),n.Rb(2,"tr"),n.Rb(3,"th",10),n.Jc(4,"Nombre"),n.Qb(),n.Rb(5,"th",10),n.Jc(6,"Descripci\xf3n"),n.Qb(),n.Rb(7,"th",11),n.Jc(8,"Acciones"),n.Qb(),n.Qb(),n.Qb(),n.Rb(9,"tbody"),n.Hc(10,u,8,5,"tr",12),n.Qb(),n.Qb()),2&t){const t=n.dc();n.Ab(10),n.lc("ngForOf",t.showList)}}let g=(()=>{class t{constructor(t){this.toastr=t,this.editCertEvent=new n.n,this.deleteCertEvent=new n.n,this.gameCertEvent=new n.n,this.newCertEvent=new n.n}ngOnInit(){window.scrollTo(0,0),this.showList=this.certList.slice()}toggleEdit(t){this.editCertEvent.emit(t)}toggleNew(){this.newCertEvent.emit()}toggleRemoveHandled(t){this.toastr.show("Est\xe1 seguro que desea eliminar el certificado "+t.nombre+"\nToda la configuraci\xf3n creada se perder\xe1","\xbfEliminar Certificado?",{toastComponent:d.a,disableTimeOut:!0,tapToDismiss:!1,enableHtml:!0}).onAction.subscribe(()=>{this.deleteCertEvent.emit(t)})}toggleGameHandled(t){this.gameCertEvent.emit(t)}search(t){this.showList=t}}return t.\u0275fac=function(e){return new(e||t)(n.Mb(b.d))},t.\u0275cmp=n.Gb({type:t,selectors:[["app-certificate-template-list"]],inputs:{certList:"certList"},outputs:{editCertEvent:"editCertEvent",deleteCertEvent:"deleteCertEvent",gameCertEvent:"gameCertEvent",newCertEvent:"newCertEvent"},decls:13,vars:3,consts:[[1,"container-fluid"],[1,"contenidos"],[1,"text-center"],[1,"row","justify-content-md-end"],["role","button",1,"btn","btn-primary","col-sm-4",3,"click"],[1,"row"],[1,"col-md-5",3,"fullList","attribFilter","listEvent"],["class","table text-center table-hover table-bordered",4,"ngIf"],[1,"table","text-center","table-hover","table-bordered"],[1,"thead"],[1,"col-md-5"],[1,"col-md-2"],["class","align-items-center",4,"ngFor","ngForOf"],[1,"align-items-center"],[1,"align-items-center","display-flex","justify-content-center"],["class","btn-group col-md-3",4,"ngIf"],[1,"btn-group","col-md-3"],["title","Editar",3,"click"],[1,"fas","fa-pencil-alt","bigger"],["title","Eliminar",3,"click"],[1,"fas","fa-trash","bigger"],["title","Playground",3,"click"],[1,"fas","fa-quidditch"]],template:function(t,e){1&t&&(n.Rb(0,"div",0),n.Rb(1,"div",1),n.Nb(2,"hr"),n.Rb(3,"h3",2),n.Jc(4,"Gesti\xf3n de certificados"),n.Qb(),n.Nb(5,"hr"),n.Qb(),n.Nb(6,"br"),n.Rb(7,"div",3),n.Rb(8,"a",4),n.bc("click",function(){return e.toggleNew()}),n.Jc(9,"Nuevo"),n.Qb(),n.Qb(),n.Rb(10,"div",5),n.Rb(11,"app-search",6),n.bc("listEvent",function(t){return e.search(t)}),n.Qb(),n.Qb(),n.Hc(12,p,11,1,"table",7),n.Qb()),2&t&&(n.Ab(11),n.lc("fullList",e.certList)("attribFilter","nombre"),n.Ab(1),n.lc("ngIf",e.certList.length>0))},directives:[f.a,o.o,o.n],pipes:[o.x],styles:[".container-fluid[_ngcontent-%COMP%]{background-color:#f4f4f4}.contenidos[_ngcontent-%COMP%]{padding-bottom:3rem}.thead[_ngcontent-%COMP%]{background-color:#c8e5f1}.greyned[_ngcontent-%COMP%]{color:grey}.btn-primary[_ngcontent-%COMP%]{background-color:#3cafe0;border:none}i[_ngcontent-%COMP%]{padding-top:1.5rem;cursor:pointer}i[_ngcontent-%COMP%]:hover{color:blue}.fas[_ngcontent-%COMP%]{font-size:1.25rem;color:#00609c;padding-right:1rem;padding-top:0}hr[_ngcontent-%COMP%]{border:1px solid #00609c}@media (min-width:768px){hr[_ngcontent-%COMP%]{margin-left:25%;margin-right:25%}.container-fluid[_ngcontent-%COMP%]{padding:5rem}}[_nghost-%COMP%] .popover .popover-header{background-color:#3cafe0}.bigger[_ngcontent-%COMP%]{font-size:170%;margin-bottom:1rem}td[_ngcontent-%COMP%]{padding-top:1rem;margin-bottom:0}a[_ngcontent-%COMP%]:hover{cursor:pointer;font-size:110%}.rev[_ngcontent-%COMP%]{color:#00609c;text-decoration:none}.rev[_ngcontent-%COMP%]:hover{color:#3cafe0}"]}),t})();var h=r("3Pt+");function C(t,e){1&t&&(n.Rb(0,"span",8),n.Jc(1," Requerido "),n.Qb())}function v(t,e){1&t&&(n.Rb(0,"span",8),n.Jc(1," Requerido "),n.Qb())}function R(t,e){1&t&&(n.Rb(0,"span",8),n.Jc(1," Requerido "),n.Qb())}function Q(t,e){if(1&t){const t=n.Sb();n.Rb(0,"div",6),n.Rb(1,"label",14),n.Jc(2,"Archivo ya subido:"),n.Qb(),n.Rb(3,"a",20),n.bc("click",function(){return n.Bc(t),n.dc().getArchivo()}),n.Jc(4),n.ec(5,"titlecase"),n.Qb(),n.Qb()}if(2&t){const t=n.dc();n.Ab(4),n.Lc("",n.fc(5,1,t.cert.nombre),".jpg")}}const y=function(t){return{"is-invalid":t}};let w=(()=>{class t{constructor(t,e,r){this.formBuilder=t,this.toastr=e,this.certService=r,this.certEmitter=new n.n,this.cancelCert=new n.n,this.submitted=!1,this.autoresList=[],this.fileToUpload=null}ngOnInit(){window.scrollTo(0,0),this.formCertificate=this.formBuilder.group({nombre:[this.cert.nombre,[h.p.required]],desc:[this.cert.descripcion,[h.p.required]],archivo:[null]})}cancel(){this.cancelCert.emit()}nuevoArchivo(){this.cert.archivo=""}handleFileInput(t){this.fileToUpload=t.item(0)}submit(){this.submitted=!0,this.formCertificate.invalid||null===this.fileToUpload?this.toastr.warning("Por favor complete todos los datos."):(this.cert={archivo:this.fileToUpload,idCertificado:this.cert.id,nombre:this.formCertificate.controls.nombre.value,desc:this.formCertificate.controls.desc.value},this.certEmitter.emit(this.cert))}getArchivo(){this.certService.getPictureFile(this.cert.id).subscribe(t=>{const e=new Blob([t],{type:"image/png"}),r=window.URL.createObjectURL(e),o=document.createElement("a");void 0!==o.download&&(o.setAttribute("href",r),o.setAttribute("target","_blank"),o.style.visibility="hidden",document.body.appendChild(o),o.click(),document.body.removeChild(o))})}}return t.\u0275fac=function(e){return new(e||t)(n.Mb(h.b),n.Mb(b.d),n.Mb(l))},t.\u0275cmp=n.Gb({type:t,selectors:[["app-certificate-template-form"]],inputs:{cert:"cert"},outputs:{certEmitter:"certEmitter",cancelCert:"cancelCert"},decls:48,vars:16,consts:[[1,"card"],[1,"card-body"],[1,"contenidos"],[1,"card-title","text-center"],[1,"card-text","text-right"],[3,"formGroup"],[1,"form-group","row"],["for","nombre",1,"col-form-label","col-sm-3","col-sm-offset-2"],[1,"text-danger"],[1,"col-sm-6"],["type","text","formControlName","nombre","onclick","this.select()",1,"form-control",3,"ngClass"],["class","text-danger",4,"ngIf"],["for","desc",1,"col-form-label","col-sm-3","col-sm-offset-2"],["type","text","formControlName","desc","onclick","this.select()",1,"form-control",3,"ngClass"],["for","archivo",1,"col-form-label","col-sm-3","col-sm-offset-2"],["type","file","accept","image/jpg, image/jpeg","formControlName","archivo","onclick","this.select()",1,"form-control",3,"ngClass","change"],["class","form-group row",4,"ngIf"],[1,"row","justify-content-md-center","btn-row"],["role","button",1,"btn","btn-secondary","col-md-3",3,"click"],["role","button",1,"btn","btn-primary","col-md-3",3,"click"],["for","archivo",1,"col-form-label","col-sm-3",3,"click"]],template:function(t,e){1&t&&(n.Rb(0,"div",0),n.Rb(1,"div",1),n.Rb(2,"div",2),n.Nb(3,"hr"),n.Rb(4,"h3",3),n.Jc(5),n.Qb(),n.Nb(6,"hr"),n.Qb(),n.Rb(7,"div"),n.Rb(8,"h6"),n.Jc(9,"Por Favor recuerde:"),n.Qb(),n.Rb(10,"p"),n.Jc(11,"Aqu\xed subir\xe1 los nuevos template para los certificados."),n.Qb(),n.Rb(12,"p"),n.Jc(13,"Utilice nombres representativos."),n.Qb(),n.Qb(),n.Rb(14,"div",4),n.Rb(15,"form",5),n.Rb(16,"div",6),n.Rb(17,"label",7),n.Jc(18,"Nombre: "),n.Rb(19,"span",8),n.Jc(20,"*"),n.Qb(),n.Qb(),n.Rb(21,"div",9),n.Nb(22,"input",10),n.Hc(23,C,2,0,"span",11),n.Qb(),n.Qb(),n.Rb(24,"div",6),n.Rb(25,"label",12),n.Jc(26,"Descripci\xf3n: "),n.Rb(27,"span",8),n.Jc(28,"*"),n.Qb(),n.Qb(),n.Rb(29,"div",9),n.Nb(30,"input",13),n.Hc(31,v,2,0,"span",11),n.Qb(),n.Qb(),n.Rb(32,"div",6),n.Rb(33,"label",14),n.Jc(34,"Archivo: "),n.Rb(35,"span",8),n.Jc(36,"*"),n.Qb(),n.Qb(),n.Rb(37,"div",9),n.Rb(38,"input",15),n.bc("change",function(t){return e.handleFileInput(t.target.files)}),n.Qb(),n.Hc(39,R,2,0,"span",11),n.Qb(),n.Qb(),n.Hc(40,Q,6,3,"div",16),n.Rb(41,"div",17),n.Rb(42,"a",18),n.bc("click",function(){return e.cancel()}),n.Jc(43,"Cancelar"),n.Qb(),n.Jc(44," \xa0 "),n.Rb(45,"a",19),n.bc("click",function(){return e.submit()}),n.Jc(46),n.Qb(),n.Qb(),n.Nb(47,"br"),n.Qb(),n.Qb(),n.Qb(),n.Qb()),2&t&&(n.Ab(5),n.Kc(e.cert.id?"Editar Certificado":"Nuevo Certificado"),n.Ab(10),n.lc("formGroup",e.formCertificate),n.Ab(7),n.lc("ngClass",n.qc(10,y,(e.formCertificate.controls.nombre.touched||e.submitted)&&e.formCertificate.controls.nombre.errors)),n.Ab(1),n.lc("ngIf",(e.formCertificate.controls.nombre.touched||e.submitted)&&(null==e.formCertificate.controls.nombre.errors?null:e.formCertificate.controls.nombre.errors.required)),n.Ab(7),n.lc("ngClass",n.qc(12,y,(e.formCertificate.controls.desc.touched||e.submitted)&&e.formCertificate.controls.desc.errors)),n.Ab(1),n.lc("ngIf",(e.formCertificate.controls.desc.touched||e.submitted)&&(null==e.formCertificate.controls.desc.errors?null:e.formCertificate.controls.desc.errors.required)),n.Ab(7),n.lc("ngClass",n.qc(14,y,(e.formCertificate.controls.archivo.touched||e.submitted)&&e.formCertificate.controls.archivo.errors)),n.Ab(1),n.lc("ngIf",e.submitted&&(null==e.formCertificate.controls.archivo.errors?null:e.formCertificate.controls.archivo.errors.required)),n.Ab(1),n.lc("ngIf",e.cert.nombre),n.Ab(6),n.Kc(e.cert.id?"Guardar Cambios":"Nuevo Certificado"))},directives:[h.q,h.j,h.d,h.a,h.i,h.c,o.m,o.o],pipes:[o.x],styles:[".autoresSelected[_ngcontent-%COMP%]{border:1px solid #000;padding:.3rem;margin-top:1;color:#000;text-decoration:none;background-color:#f27289;margin-right:.5rem}ul[_ngcontent-%COMP%]{display:flex;justify-content:space-between}.fa[_ngcontent-%COMP%]{justify-content:flex-end}.valid[_ngcontent-%COMP%]{background-color:#bee895}.card[_ngcontent-%COMP%]{margin-left:auto;margin-right:auto}.login-form[_ngcontent-%COMP%]{width:75%}.btn-primary[_ngcontent-%COMP%]{background-color:#3cafe0;border:none}.card[_ngcontent-%COMP%]{border-radius:3rem;padding-bottom:2rem;margin:1rem auto;background-color:#f4f4f4}.login-form[_ngcontent-%COMP%]{width:100%}.form-group[_ngcontent-%COMP%]{padding-top:.75rem;padding-bottom:.75rem}a[_ngcontent-%COMP%]{cursor:pointer}.card-title[_ngcontent-%COMP%]{width:100%;margin-left:auto;margin-right:auto;font-weight:300;padding-top:.5rem;padding-bottom:.5rem;max-width:-webkit-fit-content;max-width:-moz-fit-content;max-width:fit-content}hr[_ngcontent-%COMP%]{border:1px solid #00609c}input[_ngcontent-%COMP%]{border:none;border-bottom:1px solid #8d999e}@media (min-width:768px){.card[_ngcontent-%COMP%]{max-width:75%}.card-body[_ngcontent-%COMP%]{padding:auto}hr[_ngcontent-%COMP%]{margin-left:25%;margin-right:25%}}.option[_ngcontent-%COMP%]{width:auto}"]}),t})();function E(t,e){1&t&&(n.Rb(0,"span",8),n.Jc(1," Requerido "),n.Qb())}function P(t,e){1&t&&(n.Rb(0,"span",8),n.Jc(1," Requerido "),n.Qb())}function M(t,e){1&t&&(n.Rb(0,"span",8),n.Jc(1," Requerido "),n.Qb())}function O(t,e){1&t&&(n.Rb(0,"span",8),n.Jc(1," Requerido "),n.Qb())}function A(t,e){1&t&&(n.Rb(0,"span",8),n.Jc(1," Requerido "),n.Qb())}function J(t,e){1&t&&(n.Rb(0,"span",8),n.Jc(1," Requerido "),n.Qb())}function _(t,e){if(1&t&&(n.Rb(0,"option",40),n.Jc(1),n.Qb()),2&t){const t=e.$implicit;n.mc("value",t),n.Ab(1),n.Lc("",t," ")}}function k(t,e){if(1&t&&(n.Rb(0,"option",40),n.Jc(1),n.Qb()),2&t){const t=e.$implicit;n.mc("value",t.value),n.Ab(1),n.Lc("",t.name," ")}}function N(t,e){if(1&t&&n.Nb(0,"img",41),2&t){const t=n.dc();n.nc("src","data:image/png;base64,",t.imagen,"",n.Dc)}}function L(t,e){1&t&&(n.Rb(0,"div",42),n.Rb(1,"div",43),n.Rb(2,"span",44),n.Jc(3,"Loading..."),n.Qb(),n.Qb(),n.Qb())}const q=function(t){return{"is-invalid":t}};let x=(()=>{class t{constructor(t,e,r){this.formGroup=t,this.certService=e,this.toastr=r,this.verGrafoEvent=new n.n,this.guardarGrafoEvent=new n.n,this.cancelCertEvent=new n.n,this.imagen="",this.submitted=!1,this.loading=!0,this.fonts=[{name:"Arial",value:"arial.ttf"},{name:"Calibri",value:"calibrii.ttf"},{name:"Arial Black",value:"ariblk.ttf"},{name:"Bahnschrift",value:"bahnschrift.ttf"},{name:"Cambria",value:"cambria.ttc"},{name:"Comic Sans MS",value:"cambria.ttc"},{name:"Franklin Gothic Medium",value:"framd.ttf"},{name:"Georgia",value:"georgia.ttf"},{name:"Verdana",value:"verdana.ttf"},{name:"Trebuchet MS",value:"trebuc.ttf"}],this.fontsSize=["10","20","30","40","50","60","70","80","90","100"]}ngOnInit(){this.formCert=this.formGroup.group({nombre:["",h.p.required],nombreX:["",h.p.required],nombreY:["",h.p.required],apellido:["",h.p.required],apellidoX:["",h.p.required],apellidoY:["",h.p.required],dni:[""],dniX:[""],dniY:[""],fontSize:["60"],fontFamily:["arial.ttf"]}),this.certService.getDetails(this.cert.id).subscribe(t=>{const e=t.data[0].map(t=>({tipoLetra:t.tipoLetra,"tama\xf1oLetra":t.tama\u00f1oLetra,posX:t.posX,posY:t.posY,valor:t.nombre.toString().toUpperCase()}));this.certService.postplayCert({idCertificado:this.cert.id,datos:e}).subscribe(t=>{this.imagen=t.data[0],this.loading=!1})})}checkForm(){return this.submitted=!0,!this.formCert.invalid||(this.toastr.warning(" Por favor, complete todos los datos"),!1)}getOpciones(){const t=this.formCert.controls;return{idCertificado:this.cert.id,datos:[{tipoLetra:t.fontFamily.value,"tama\xf1oLetra":+t.fontSize.value,posX:+t.nombreX.value,posY:+t.nombreY.value,valor:t.nombre.value},{tipoLetra:t.fontFamily.value,"tama\xf1oLetra":+t.fontSize.value,posX:+t.apellidoX.value,posY:+t.apellidoY.value,valor:t.apellido.value},{tipoLetra:t.fontFamily.value,"tama\xf1oLetra":+t.fontSize.value,posX:+t.dniX.value,posY:+t.dniY.value,valor:t.dni.value}]}}verGrafico(){if(this.checkForm()){this.loading=!0;const t=this.getOpciones();this.certService.postplayCert(t).subscribe(t=>{this.imagen=t.data[0],this.loading=!1})}}guardarCambios(){if(this.checkForm()){const t=this.formCert.controls,e=[{nombre:"nombre",idCerificado:this.cert.id,atributo_usuario:"nombre",tipoLetra:t.fontFamily.value,"tama\xf1oLetra":+t.fontSize.value,posX:+t.nombreX.value,posY:+t.nombreY.value},{nombre:"apellido",idCerificado:this.cert.id,atributo_usuario:"apellido",tipoLetra:t.fontFamily.value,"tama\xf1oLetra":+t.fontSize.value,posX:+t.apellidoX.value,posY:+t.apellidoY.value},{nombre:"dni",idCerificado:this.cert.id,atributo_usuario:"dni",tipoLetra:t.fontFamily.value,"tama\xf1oLetra":+t.fontSize.value,posX:+t.dniX.value,posY:+t.dniY.value}];this.certService.postFinalCert(e[0]).subscribe(()=>{this.toastr.success("Nombre Cargado Correctamente"),this.certService.postFinalCert(e[1]).subscribe(()=>{this.toastr.success("Apellido Cargado Correctamente"),t.dni.value&&this.certService.postFinalCert(e[2]).subscribe(()=>{this.toastr.success("DNI Cargado Correctamente"),this.cancelCertEvent.emit()})})})}}cancelar(){this.cancelCertEvent.emit()}}return t.\u0275fac=function(e){return new(e||t)(n.Mb(h.b),n.Mb(l),n.Mb(b.d))},t.\u0275cmp=n.Gb({type:t,selectors:[["app-certificate-detail-form"]],inputs:{cert:"cert"},outputs:{verGrafoEvent:"verGrafoEvent",guardarGrafoEvent:"guardarGrafoEvent",cancelCertEvent:"cancelCertEvent"},decls:107,vars:44,consts:[[1,"container-fluid"],[1,"contenidos"],[1,"text-center"],[1,"row"],[1,"col-md-5","col-sm-12"],[3,"formGroup"],[1,"form-group","row"],["for","nombre",1,"col-form-label","col-sm-4","col-sm-offset-2"],[1,"text-danger"],[1,"col-sm-6"],["type","text","formControlName","nombre","onclick","this.select()",1,"form-control",3,"ngClass"],["class","text-danger",4,"ngIf"],["for","nombreX",1,"col-form-label","col-sm-4","col-sm-offset-2"],["type","text","formControlName","nombreX","onclick","this.select()",1,"form-control",3,"ngClass"],["for","nombreY",1,"col-form-label","col-sm-4","col-sm-offset-2"],["type","text","formControlName","nombreY","onclick","this.select()",1,"form-control",3,"ngClass"],["for","apellido",1,"col-form-label","col-sm-4","col-sm-offset-2"],["type","text","formControlName","apellido","onclick","this.select()",1,"form-control",3,"ngClass"],["for","apellidoX",1,"col-form-label","col-sm-4","col-sm-offset-2"],["type","text","formControlName","apellidoX","onclick","this.select()",1,"form-control",3,"ngClass"],["for","apellidoY",1,"col-form-label","col-sm-4","col-sm-offset-2"],["type","text","formControlName","apellidoY","onclick","this.select()",1,"form-control",3,"ngClass"],["for","dni",1,"col-form-label","col-sm-4","col-sm-offset-2"],["type","text","formControlName","dni","onclick","this.select()",1,"form-control",3,"ngClass"],["for","dniX",1,"col-form-label","col-sm-4","col-sm-offset-2"],["type","text","formControlName","dniX","onclick","this.select()",1,"form-control",3,"ngClass"],["for","dniY",1,"col-form-label","col-sm-4","col-sm-offset-2"],["type","text","formControlName","dniY","onclick","this.select()",1,"form-control",3,"ngClass"],["for","fontSize",1,"col-form-label","col-sm-4","col-sm-offset-2"],["id","select-fontSize","formControlName","fontSize",1,"form-select",3,"ngClass"],[3,"value",4,"ngFor","ngForOf"],["for","fontFamily",1,"col-form-label","col-sm-4","col-sm-offset-2"],["id","select-fontFamily","formControlName","fontFamily",1,"form-select",3,"ngClass"],[1,"row","pt-2","justify-content-center"],[1,"btn","btn-secondary","col-sm-4",3,"click"],["type","submit",1,"btn","btn-primary","col-sm-4",3,"click"],["type","submit",1,"btn","btn-danger","col-sm-8",3,"click"],[1,"col-md-5","col-sm-12","verticalLine"],["alt","Template del certificado","style","height: 110%; width: 130%;",3,"src",4,"ngIf"],["class","row justify-content-center",4,"ngIf"],[3,"value"],["alt","Template del certificado",2,"height","110%","width","130%",3,"src"],[1,"row","justify-content-center"],["role","status",1,"spinner-border","text-primary"],[1,"sr-only"]],template:function(t,e){1&t&&(n.Rb(0,"div",0),n.Rb(1,"div",1),n.Nb(2,"hr"),n.Rb(3,"h3",2),n.Jc(4,"Modificar Certificado"),n.Qb(),n.Nb(5,"hr"),n.Qb(),n.Nb(6,"br"),n.Rb(7,"div",3),n.Rb(8,"div",4),n.Rb(9,"form",5),n.Rb(10,"h6"),n.Jc(11,"Atributos y posiciones"),n.Qb(),n.Rb(12,"div",6),n.Rb(13,"label",7),n.Jc(14,"Nombre: "),n.Rb(15,"span",8),n.Jc(16,"*"),n.Qb(),n.Qb(),n.Rb(17,"div",9),n.Nb(18,"input",10),n.Hc(19,E,2,0,"span",11),n.Qb(),n.Qb(),n.Rb(20,"div",6),n.Rb(21,"label",12),n.Jc(22,"Posici\xf3n horizontal: "),n.Rb(23,"span",8),n.Jc(24,"*"),n.Qb(),n.Qb(),n.Rb(25,"div",9),n.Nb(26,"input",13),n.Hc(27,P,2,0,"span",11),n.Qb(),n.Qb(),n.Rb(28,"div",6),n.Rb(29,"label",14),n.Jc(30,"Posicion Vertical: "),n.Rb(31,"span",8),n.Jc(32,"*"),n.Qb(),n.Qb(),n.Rb(33,"div",9),n.Nb(34,"input",15),n.Hc(35,M,2,0,"span",11),n.Qb(),n.Qb(),n.Nb(36,"br"),n.Nb(37,"hr"),n.Rb(38,"div",6),n.Rb(39,"label",16),n.Jc(40,"Apellido: "),n.Rb(41,"span",8),n.Jc(42,"*"),n.Qb(),n.Qb(),n.Rb(43,"div",9),n.Nb(44,"input",17),n.Hc(45,O,2,0,"span",11),n.Qb(),n.Qb(),n.Rb(46,"div",6),n.Rb(47,"label",18),n.Jc(48,"Posici\xf3n horizontal: "),n.Rb(49,"span",8),n.Jc(50,"*"),n.Qb(),n.Qb(),n.Rb(51,"div",9),n.Nb(52,"input",19),n.Hc(53,A,2,0,"span",11),n.Qb(),n.Qb(),n.Rb(54,"div",6),n.Rb(55,"label",20),n.Jc(56,"Posicion Vertical: "),n.Rb(57,"span",8),n.Jc(58,"*"),n.Qb(),n.Qb(),n.Rb(59,"div",9),n.Nb(60,"input",21),n.Hc(61,J,2,0,"span",11),n.Qb(),n.Qb(),n.Nb(62,"br"),n.Nb(63,"hr"),n.Rb(64,"div",6),n.Rb(65,"label",22),n.Jc(66,"DNI: "),n.Qb(),n.Rb(67,"div",9),n.Nb(68,"input",23),n.Qb(),n.Qb(),n.Rb(69,"div",6),n.Rb(70,"label",24),n.Jc(71,"Posici\xf3n horizontal: "),n.Qb(),n.Rb(72,"div",9),n.Nb(73,"input",25),n.Qb(),n.Qb(),n.Rb(74,"div",6),n.Rb(75,"label",26),n.Jc(76,"Posicion Vertical: "),n.Qb(),n.Rb(77,"div",9),n.Nb(78,"input",27),n.Qb(),n.Qb(),n.Nb(79,"br"),n.Nb(80,"hr"),n.Rb(81,"div",6),n.Rb(82,"label",28),n.Jc(83,"Tama\xf1o de Fuente:"),n.Qb(),n.Rb(84,"div",9),n.Rb(85,"select",29),n.Hc(86,_,2,2,"option",30),n.Qb(),n.Qb(),n.Qb(),n.Rb(87,"div",6),n.Rb(88,"label",31),n.Jc(89,"Tipo de Fuente:"),n.Qb(),n.Rb(90,"div",9),n.Rb(91,"select",32),n.Hc(92,k,2,2,"option",30),n.Qb(),n.Qb(),n.Qb(),n.Nb(93,"br"),n.Nb(94,"hr"),n.Rb(95,"div",33),n.Rb(96,"button",34),n.bc("click",function(){return e.cancelar()}),n.Jc(97,"Cancelar"),n.Qb(),n.Jc(98," \xa0 "),n.Rb(99,"button",35),n.bc("click",function(){return e.verGrafico()}),n.Jc(100,"Probar Gr\xe1fico"),n.Qb(),n.Qb(),n.Rb(101,"div",33),n.Rb(102,"button",36),n.bc("click",function(){return e.guardarCambios()}),n.Jc(103,"Guardar Cambios "),n.Qb(),n.Qb(),n.Qb(),n.Qb(),n.Rb(104,"div",37),n.Hc(105,N,1,1,"img",38),n.Hc(106,L,4,0,"div",39),n.Qb(),n.Qb(),n.Qb()),2&t&&(n.Ab(9),n.lc("formGroup",e.formCert),n.Ab(9),n.lc("ngClass",n.qc(22,q,(e.formCert.controls.nombre.touched||e.submitted)&&e.formCert.controls.nombre.errors)),n.Ab(1),n.lc("ngIf",(e.formCert.controls.nombre.touched||e.submitted)&&(null==e.formCert.controls.nombre.errors?null:e.formCert.controls.nombre.errors.required)),n.Ab(7),n.lc("ngClass",n.qc(24,q,(e.formCert.controls.nombreX.touched||e.submitted)&&e.formCert.controls.nombreX.errors)),n.Ab(1),n.lc("ngIf",(e.formCert.controls.nombreX.touched||e.submitted)&&(null==e.formCert.controls.nombreX.errors?null:e.formCert.controls.nombreX.errors.required)),n.Ab(7),n.lc("ngClass",n.qc(26,q,(e.formCert.controls.nombreY.touched||e.submitted)&&e.formCert.controls.nombreY.errors)),n.Ab(1),n.lc("ngIf",(e.formCert.controls.nombreY.touched||e.submitted)&&(null==e.formCert.controls.nombreY.errors?null:e.formCert.controls.nombreY.errors.required)),n.Ab(9),n.lc("ngClass",n.qc(28,q,(e.formCert.controls.apellido.touched||e.submitted)&&e.formCert.controls.apellido.errors)),n.Ab(1),n.lc("ngIf",(e.formCert.controls.apellido.touched||e.submitted)&&(null==e.formCert.controls.apellido.errors?null:e.formCert.controls.apellido.errors.required)),n.Ab(7),n.lc("ngClass",n.qc(30,q,(e.formCert.controls.apellidoX.touched||e.submitted)&&e.formCert.controls.apellidoX.errors)),n.Ab(1),n.lc("ngIf",(e.formCert.controls.apellidoX.touched||e.submitted)&&(null==e.formCert.controls.apellidoX.errors?null:e.formCert.controls.apellidoX.errors.required)),n.Ab(7),n.lc("ngClass",n.qc(32,q,(e.formCert.controls.apellidoY.touched||e.submitted)&&e.formCert.controls.apellidoY.errors)),n.Ab(1),n.lc("ngIf",(e.formCert.controls.apellidoY.touched||e.submitted)&&(null==e.formCert.controls.apellidoY.errors?null:e.formCert.controls.apellidoY.errors.required)),n.Ab(7),n.lc("ngClass",n.qc(34,q,(e.formCert.controls.dni.touched||e.submitted)&&e.formCert.controls.dni.errors)),n.Ab(5),n.lc("ngClass",n.qc(36,q,(e.formCert.controls.dniX.touched||e.submitted)&&e.formCert.controls.dniX.errors)),n.Ab(5),n.lc("ngClass",n.qc(38,q,(e.formCert.controls.dniY.touched||e.submitted)&&e.formCert.controls.dniY.errors)),n.Ab(7),n.lc("ngClass",n.qc(40,q,e.submitted&&e.formCert.controls.fontSize.errors)),n.Ab(1),n.lc("ngForOf",e.fontsSize),n.Ab(5),n.lc("ngClass",n.qc(42,q,e.submitted&&e.formCert.controls.fontFamily.errors)),n.Ab(1),n.lc("ngForOf",e.fonts),n.Ab(13),n.lc("ngIf",!e.loading),n.Ab(1),n.lc("ngIf",e.loading))},directives:[h.q,h.j,h.d,h.a,h.i,h.c,o.m,o.o,h.o,o.n,h.l,h.r],styles:[".container-fluid[_ngcontent-%COMP%]{background-color:#f4f4f4}.contenidos[_ngcontent-%COMP%]{padding-bottom:3rem}.thead[_ngcontent-%COMP%]{background-color:#c8e5f1}.greyned[_ngcontent-%COMP%]{color:grey}.btn-primary[_ngcontent-%COMP%]{background-color:#3cafe0;border:none}i[_ngcontent-%COMP%]{padding-top:1.5rem;cursor:pointer}i[_ngcontent-%COMP%]:hover{color:blue}.fas[_ngcontent-%COMP%]{font-size:1.25rem;color:#00609c;padding-right:1rem;padding-top:0}hr[_ngcontent-%COMP%]{border:1px solid #00609c}@media (min-width:768px){hr[_ngcontent-%COMP%]{margin-left:25%;margin-right:25%}.container-fluid[_ngcontent-%COMP%]{padding:5rem}}[_nghost-%COMP%] .popover .popover-header{background-color:#3cafe0}.bigger[_ngcontent-%COMP%]{font-size:170%;margin-bottom:1rem}td[_ngcontent-%COMP%]{padding-top:1rem;margin-bottom:0}a[_ngcontent-%COMP%]:hover{cursor:pointer;font-size:110%}.rev[_ngcontent-%COMP%]{color:#00609c;text-decoration:none}.rev[_ngcontent-%COMP%]:hover{color:#3cafe0}.form-group[_ngcontent-%COMP%]{padding-top:.5rem}.verticalLine[_ngcontent-%COMP%]{border-left:thick solid #3cafe0}"]}),t})();function I(t,e){if(1&t){const t=n.Sb();n.Rb(0,"app-certificate-template-list",3),n.bc("newCertEvent",function(){return n.Bc(t),n.dc().newCert()})("deleteCertEvent",function(e){return n.Bc(t),n.dc().deleteCertificate(e)})("editCertEvent",function(e){return n.Bc(t),n.dc().editCert(e)})("gameCertEvent",function(e){return n.Bc(t),n.dc().playCertEvent(e)}),n.Qb()}if(2&t){const t=n.dc();n.lc("certList",t.certList)}}function F(t,e){if(1&t){const t=n.Sb();n.Rb(0,"app-certificate-template-form",4),n.bc("cancelCert",function(){return n.Bc(t),n.dc().toggleEdit()})("certEmitter",function(e){return n.Bc(t),n.dc().submit(e)}),n.Qb()}if(2&t){const t=n.dc();n.lc("cert",t.cert)}}function S(t,e){if(1&t){const t=n.Sb();n.Rb(0,"app-certificate-detail-form",5),n.bc("cancelCertEvent",function(){return n.Bc(t),n.dc().toggleEdit()})("guardarGrafoEvent",function(e){return n.Bc(t),n.dc().guardarGrafo(e)})("verGrafoEvent",function(e){return n.Bc(t),n.dc().verGrafo(e)}),n.Qb()}if(2&t){const t=n.dc();n.lc("cert",t.cert)}}const X=[{path:"",component:(()=>{class t{constructor(t,e){this.certService=t,this.toastr=e,this.cert={idCertificado:null,nombre:"",desc:"",imagen:""},this.certList=[],this.edit=!1,this.new=!1,this.list=!1,this.form=!1,this.game=!1}ngOnInit(){this.getCertificates()}getCertificates(){this.certService.getCertificates().subscribe(t=>{this.certList=t.data[0],this.toggleEdit()})}submit(t){console.log(t),t.idCertificado?this.certService.putCertificate(t).subscribe(t=>{this.getCertificates()}):this.certService.postCertificate(t).subscribe(t=>{this.getCertificates()},t=>console.log(t))}deleteCertificate(t){this.certService.deleteCertificate(t).subscribe(t=>{this.toastr.success("Certificado Eliminado"),this.getCertificates()})}newCert(){this.list=!1,this.form=!0,this.cert={idCertificado:null,nombre:"",desc:"",imagen:""},this.new=!0}editCert(t){this.cert=t,this.form=!0,this.list=!1,this.game=!1}playCertEvent(t){this.cert=Object.assign({},t),this.game=!0,this.form=!1,this.list=!1}toggleEdit(){this.list=!0,this.form=!1,this.game=!1}guardarGrafo(t){console.log(t)}verGrafo(t){console.log("Ver",t)}}return t.\u0275fac=function(e){return new(e||t)(n.Mb(l),n.Mb(b.d))},t.\u0275cmp=n.Gb({type:t,selectors:[["app-certificate"]],decls:3,vars:3,consts:[[3,"certList","newCertEvent","deleteCertEvent","editCertEvent","gameCertEvent",4,"ngIf"],[3,"cert","cancelCert","certEmitter",4,"ngIf"],[3,"cert","cancelCertEvent","guardarGrafoEvent","verGrafoEvent",4,"ngIf"],[3,"certList","newCertEvent","deleteCertEvent","editCertEvent","gameCertEvent"],[3,"cert","cancelCert","certEmitter"],[3,"cert","cancelCertEvent","guardarGrafoEvent","verGrafoEvent"]],template:function(t,e){1&t&&(n.Hc(0,I,1,1,"app-certificate-template-list",0),n.Hc(1,F,1,1,"app-certificate-template-form",1),n.Hc(2,S,1,1,"app-certificate-detail-form",2)),2&t&&(n.lc("ngIf",e.list),n.Ab(1),n.lc("ngIf",e.form),n.Ab(1),n.lc("ngIf",e.game))},directives:[o.o,g,w,x],styles:[""]}),t})()}];let Y=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=n.Kb({type:t}),t.\u0275inj=n.Jb({imports:[[i.d.forChild(X)],i.d]}),t})();var G=r("pKmL");let H=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=n.Kb({type:t}),t.\u0275inj=n.Jb({imports:[[o.c,Y,G.a]]}),t})()}}]);