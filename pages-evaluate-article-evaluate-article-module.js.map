{"version":3,"sources":["./src/app/pages/evaluate-article/evaluate-article-routing.module.ts","./src/app/pages/evaluate-article/evaluate-article.component.html","./src/app/pages/evaluate-article/evaluate-article.component.ts","./src/app/pages/evaluate-article/evaluate-article.module.ts","./src/app/core/services/evaluate-paper.service.ts"],"names":[],"mappings":"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","file":"pages-evaluate-article-evaluate-article-module.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { RouterModule, Routes } from '@angular/router';\nimport { EvaluateArticleComponent } from './evaluate-article.component';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: EvaluateArticleComponent\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule]\n})\nexport class EvaluateArticleRoutingModule { }\n","<div class=\"container-fluid\">\n  <app-evaluate-paper-list *ngIf=\"!flagEvaluate && ok\"\n   [paperList]='paperList'\n   (EvaluationEvent)='evaluate($event)'\n   (EvaluationAcceptEvent)='evaluate($event)'\n   (EvaluationCancelEvent)='evaluate($event)'>\n</app-evaluate-paper-list>\n  <app-evaluate-paper-form *ngIf=\"flagEvaluate\"\n  [paper]='paper'\n  [items]=\"items\"\n  (GetItemsEvent)=\"getItems($event)\"\n  (GetFileEvent)=\"getFile($event)\"\n  (SaveEvent)=\"saveEvaluation($event)\"\n  (CancelEvent)=\"toggleFlagEvaluate($event)\">\n  </app-evaluate-paper-form>\n</div>\n\n","import { Component, OnInit } from '@angular/core';\nimport { ToastrService } from 'ngx-toastr';\nimport { EvaluatePaperService } from 'src/app/core/services/evaluate-paper.service';\nimport { PaperService } from 'src/app/core/services/paper.service';\nimport { EvaluatorService } from 'src/app/core/services/evaluator.service';\nimport { Router } from '@angular/router';\n\n\n@Component({\n  selector: 'app-evaluate-article',\n  templateUrl: './evaluate-article.component.html',\n  styleUrls: ['./evaluate-article.component.css']\n})\nexport class EvaluateArticleComponent implements OnInit {\n\n\n  paperList = [];\n  paper = [];\n  items = [];\n  flagEvaluate = false;\n  ok = false;\n\n\n  constructor(private paperEvalService: EvaluatePaperService,\n              private evaluationService: EvaluatorService,\n              private toastr: ToastrService,\n              private paperService: PaperService,\n              private router: Router) { }\n\n\n  ngOnInit(): void {\n    this.getPapers();\n  }\n\n  getPapers(): void {\n    this.paperEvalService.getPaperEval().subscribe((res: any) => {\n      this.paperList = res.data;\n      this.ok = true;\n    });\n  }\n\n  getItems(idArticulo): void {\n    this.paperEvalService.getTest(idArticulo).subscribe((res: any) => {\n      this.items = res.data;\n    });\n  }\n\n  evaluate(paper): void {\n    this.paper = paper;\n    this.flagEvaluate = !this.flagEvaluate;\n  }\n\n  getFile(id): void {\n    this.paperService.getPaperFile(id).subscribe((res: any) => {\n      const archivo: ArrayBuffer = res;\n      const blob = new Blob([archivo], { type: 'application/pdf' });\n      const url = window.URL.createObjectURL(blob);\n      const link = document.createElement('a');\n      if (link.download !== undefined) {\n        link.setAttribute('href', url);\n        link.setAttribute('target', '_blank');\n        link.style.visibility = 'hidden';\n        document.body.appendChild(link);\n        link.click();\n        document.body.removeChild(link);\n      }\n    });\n  }\n\n  toggleFlagEvaluate(): void {\n    this.flagEvaluate = !this.flagEvaluate;\n  }\n\n  saveEvaluation(ev: any): void {\n    this.paperEvalService.editarEvaluacion(ev).subscribe((res: any) => {\n      if (ev.submit) {\n        this.submitEvaluation(ev);\n        return;\n      } else {\n        this.getPapers();\n        this.toastr.success('La evaluaci贸n ha sido guardada!');\n        setTimeout(() => {window.location.reload(); }, 200);\n      }\n    });\n  }\n\n  submitEvaluation(ev): void {\n    this.paperEvalService.enviarEvaluacion(ev).subscribe((res: any) => {\n      this.toastr.success('La evaluaci贸n ha sido enviada!');\n      this.toggleFlagEvaluate();\n      this.getPapers();\n      setTimeout(() => {window.location.reload(); }, 200);\n    });\n  }\n\n  acceptEvaluate(paper): void {\n    this.paper = paper;\n    this.evaluationService.acceptEvaluationPaper(this.paper).subscribe(\n      (res: any) => {this.toastr.success('La evaluaci贸n ha sido aceptada.'); }\n    );\n   }\n\n  cancelEvaluate(paper): void {\n    this.paper = paper;\n    this.evaluationService.cancelarEvaluationPaper(this.paper).subscribe(\n      (res: any) => {this.toastr.success('La evaluaci贸n ha sido rechazada.'); }\n      );\n  }\n}\n","import { CUSTOM_ELEMENTS_SCHEMA, NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\n\nimport { EvaluateArticleRoutingModule } from './evaluate-article-routing.module';\nimport { EvaluateArticleComponent } from './evaluate-article.component';\nimport { CoreModule } from 'src/app/core/core.module';\n\n\n@NgModule({\n  declarations: [EvaluateArticleComponent],\n  imports: [\n    CommonModule,\n    EvaluateArticleRoutingModule,\n    CoreModule\n  ],\n  schemas: [CUSTOM_ELEMENTS_SCHEMA]\n})\nexport class EvaluateArticleModule { }\n","import { HttpClient } from '@angular/common/http';\nimport { Injectable } from '@angular/core';\nimport { environment } from 'src/environments/environment';\nimport { IEvalPaper } from '../models/IEvalPaper';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class EvaluatePaperService {\n\n  private apiURL = environment.apiURL;\n\n  constructor(private httpClient: HttpClient,\n              ) { }\n\n  enviarEvaluacion(ev): any {\n    return this.httpClient.put<IEvalPaper>(this.apiURL + 'articulos/enviar-evaluacion/', ev);\n  }\n\n  getPaperEval(): any {\n    return this.httpClient.get(this.apiURL + 'articulos/consulta-evaluaciones/');\n  }\n\n  editarEvaluacion(ev): any {\n    return this.httpClient.put(this.apiURL + 'articulos/editar-evaluacion/?idArticulo=' + ev.idArticulo, ev.evaluacion);\n  }\n\n  getEvaluaciones(idArticulo): any {\n    return this.httpClient.get(this.apiURL + 'articulos/consultaDetalleEvaluacion/?idArticulo=' + idArticulo);\n  }\n\n  getTest(idArticulo): any {\n    return this.httpClient.get(this.apiURL + 'articulos/consulta-evaluacion/?idArticulo=' + idArticulo);\n  }\n}\n"],"sourceRoot":"webpack:///"}