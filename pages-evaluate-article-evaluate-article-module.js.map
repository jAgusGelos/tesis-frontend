{"version":3,"sources":["./src/app/pages/evaluate-article/evaluate-article-routing.module.ts","./src/app/pages/evaluate-article/evaluate-article.component.html","./src/app/pages/evaluate-article/evaluate-article.component.ts","./src/app/pages/evaluate-article/evaluate-article.module.ts","./src/app/core/services/evaluate-paper.service.ts"],"names":[],"mappings":"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","file":"pages-evaluate-article-evaluate-article-module.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { RouterModule, Routes } from '@angular/router';\nimport { EvaluateArticleComponent } from './evaluate-article.component';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: EvaluateArticleComponent\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule]\n})\nexport class EvaluateArticleRoutingModule { }\n","<div class=\"container-fluid\">\n  <app-evaluate-paper-list *ngIf=\"!flagEvaluate\"\n   (EvaluationEvent)='evaluate($event)' (EvaluationAcceptEvent)='evaluate($event)' (EvaluationCancelEvent)='evaluate($event)' [paperList]='paperList'>\n</app-evaluate-paper-list>\n<app-evaluate-paper-form *ngIf=\"flagEvaluate\" \n[paper]='paper' [items]=\"items\" (postEvaluation)=\"postEvaluation($event)\" (GetItemsEvent)=\"getItems($event)\" (GetFileEvent)=\"getFile($event)\" (CancelEvent)=\"toggleFlagEvaluate($event)\">\n</app-evaluate-paper-form>\n</div>\n\n","import { Component, OnInit } from '@angular/core';\nimport { EvaluatePaperService } from 'src/app/core/services/evaluate-paper.service';\nimport { PaperService } from 'src/app/core/services/paper.service';\nimport { EvaluationService } from 'src/app/core/services/evaluation.service';\nimport { EvaluatorService } from 'src/app/core/services/evaluator.service';\n\n\n@Component({\n  selector: 'app-evaluate-article',\n  templateUrl: './evaluate-article.component.html',\n  styleUrls: ['./evaluate-article.component.css']\n})\nexport class EvaluateArticleComponent implements OnInit {\n\n\n  paperList = [];\n  paper = [];\n  items = [];\n  flagEvaluate = false;\n\n\n  constructor(private paperEvalService: EvaluatePaperService,\n              private evaluationService: EvaluatorService,\n              private paperService: PaperService) { }\n\n\n  ngOnInit(): void {\n    this.getPapers();\n  }\n\n  postEvaluation(evaluation) {\n    this.paperEvalService.postPaperEval(evaluation).subscribe((res: any) =>{\n      alert('Los cambios han sido guardados!');\n    });\n  }\n\n  getPapers(): void {\n    this.paperEvalService.getPaperEval().subscribe((res: any) => {\n      this.paperList = res.data;\n    });\n  }\n\n  getItems(idArticulo): void {\n    this.paperEvalService.getTest(idArticulo).subscribe((res: any) => {\n      this.items = res.data;\n    });\n  }\n\n  evaluate(paper): void {\n    this.paper = paper;\n    this.flagEvaluate = !this.flagEvaluate;\n  }\n\n  getFile(id) {\n    this.paperService.getPaperFile(id).subscribe((res: any) => {\n      let archivo: ArrayBuffer = res;\n      let blob = new Blob([archivo], { type: 'application/pdf' });\n      const url = window.URL.createObjectURL(blob);\n      const link = document.createElement('a');\n      if (link.download !== undefined) {\n        link.setAttribute('href', url);\n        link.setAttribute('target', '_blank');\n        link.style.visibility = 'hidden';\n        document.body.appendChild(link);\n        link.click();\n        document.body.removeChild(link);\n      }\n    });\n  }\n\n  toggleFlagEvaluate() {\n    this.flagEvaluate = !this.flagEvaluate;\n  }\n\n\n  acceptEvaluate(paper):void{\n    this.paper = paper;\n    this.evaluationService.acceptEvaluationPaper(this.paper).subscribe(\n      (res:any) => {alert('La evaluación ha sido aceptada.')}\n    )\n  }\n  cancelEvaluate(paper):void{\n    this.paper = paper;\n    this.evaluationService.cancelarEvaluationPaper(this.paper).subscribe(\n      (res: any) =>{alert('La evaluación ha sido rechazada.');\n    })\n  }\n\n  \n\n}\n","import { CUSTOM_ELEMENTS_SCHEMA, NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\n\nimport { EvaluateArticleRoutingModule } from './evaluate-article-routing.module';\nimport { EvaluateArticleComponent } from './evaluate-article.component';\nimport { CoreModule } from 'src/app/core/core.module';\n\n\n@NgModule({\n  declarations: [EvaluateArticleComponent],\n  imports: [\n    CommonModule,\n    EvaluateArticleRoutingModule,\n    CoreModule\n  ],\n  schemas: [CUSTOM_ELEMENTS_SCHEMA]\n})\nexport class EvaluateArticleModule { }\n","import { HttpClient } from '@angular/common/http';\nimport { Injectable } from '@angular/core';\nimport { environment } from 'src/environments/environment';\nimport { IEvalPaper } from '../models/IEvalPaper';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class EvaluatePaperService {\n\n  private apiURL = environment.apiURL;\n\n  constructor(private httpClient: HttpClient,\n              ) { }\n\n  postPaperEval(evaluation): any {\n    return this.httpClient.post<IEvalPaper>(this.apiURL + 'articulos/guardar-evaluacion/', evaluation);\n  }\n\n  getPaperEval(): any {\n    return this.httpClient.get(this.apiURL + 'articulos/consulta-evaluaciones/');\n  }\n\n  getEvaluaciones(idArticulo) {\n    return this.httpClient.get(this.apiURL + 'articulos/consultaDetalleEvaluacion/?idArticulo=' + idArticulo);\n  }\n\n  getTest(idArticulo): any {\n    return this.httpClient.get(this.apiURL + 'articulos/consulta-evaluacion/?idArticulo=' + idArticulo);\n  }\n}\n"],"sourceRoot":"webpack:///"}