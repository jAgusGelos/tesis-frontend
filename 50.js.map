{"version":3,"sources":["./src/app/pages/symposium-preference/symposium-preference.component.ts","./src/app/pages/symposium-preference/symposium-preference.component.html","./src/app/pages/symposium-preference/symposium-preference.component.css","./src/app/pages/symposium-preference/symposium-preference-routing.module.ts","./src/app/pages/symposium-preference/symposium-preference.module.ts"],"names":["SymposiumPreferenceComponent","symposiumService","toastr","description","symposiumList","mySymposiums","ready","this","getSimposios","getSymposium","subscribe","res","data","getSimposiosEvaluador","getEvaluatorSymposium","map","x","id","idSimposio","nombre","nombreSimposio","descripcion","descripcionSimposio","excluirPreferencias","simposio","index","simposios","toString","postEvaluatorSymposium","push","splice","success","deleteEvaluatorSymposium","console","log","ids","filter","includes","selector","template","routes","path","component","SymposiumPreferenceRoutingModule","imports","forChild","exports","SymposiumPreferenceModule","declarations"],"mappings":"6OAUaA,EAA4B,MAOvC,YAAqBC,EACAC,GADA,KAAAD,mBACA,KAAAC,SANrB,KAAAC,YAAc,mJACd,KAAAC,cAA8B,GAC9B,KAAAC,aAA6B,GAC7B,KAAAC,OAAQ,EAKR,WACEC,KAAKC,eAGP,eACED,KAAKN,iBAAiBQ,eAAeC,UAAWC,IAC9CJ,KAAKH,cAAgBO,EAAIC,KACzBL,KAAKM,0BAIT,wBACE,IAAID,EAAO,GACXL,KAAKN,iBAAiBa,wBAAwBJ,UAAWC,IACvDC,EAAOD,EAAIC,KACXL,KAAKF,aAAeO,EAAKG,IAAKC,IACrB,CACLC,GAAID,EAAEE,WACNC,OAAQH,EAAEI,eACVC,YAAaL,EAAEM,uBAGnBf,KAAKgB,wBAIT,yBAAyBC,EAAsBC,GAC7C,MAAMb,EAAO,CAACc,UAAWF,EAASP,GAAGU,YACrCpB,KAAKN,iBAAiB2B,uBAAuBhB,GAAMF,UAAWC,IAC5DJ,KAAKF,aAAawB,KAAKL,GACvBjB,KAAKH,cAAc0B,OAAOL,EAAO,GACjClB,KAAKL,OAAO6B,QAAQ,wBAIxB,0BAA0BP,EAAsBC,GAC9ClB,KAAKN,iBAAiB+B,yBAAyBR,GAAUd,UAAWC,IAClEJ,KAAKF,aAAayB,OAAOL,EAAO,GAChClB,KAAKH,cAAcyB,KAAKL,GACxBjB,KAAKL,OAAO6B,QAAQ,yBAIxB,sBAEEE,QAAQC,IAAI3B,KAAKH,eACjB6B,QAAQC,IAAI3B,KAAKF,cACjB,MAAM8B,EAAM5B,KAAKF,aAAaU,IAAKC,GAAMA,EAAEC,IAC3CV,KAAKH,cAAgBG,KAAKH,cAAcgC,OAAQpB,IAC9C,IAAKmB,EAAIE,SAASrB,EAAEC,IAClB,OAAOD,IAGXiB,QAAQC,IAAI3B,KAAKH,eACjBG,KAAKD,OAAQ,I,4BAvER,K,MAFA,MASIN,EAA4B,aALxC,YAAU,CACTsC,SAAU,2BACVC,SCPa,stE,QCAA,0cFUFvC,GGNb,MAAMwC,EAAiB,CAAC,CACtBC,KAAM,GACNC,UAAW1C,I,IAOA2C,EAAgC,QAAhCA,EAAgC,aAJ5C,YAAS,CACRC,QAAS,CAAC,IAAaC,SAASL,IAChCM,QAAS,CAAC,QAECH,G,oBCGAI,EAAyB,QAAzBA,EAAyB,aARrC,YAAS,CACRC,aAAc,CAAChD,GACf4C,QAAS,CACP,IACAD,EACA,QAGSI","file":"50.js","sourcesContent":["import { Component, OnInit } from '@angular/core';\nimport { ToastrService } from 'ngx-toastr';\nimport { ISymposium } from 'src/app/core/models/ISymposium';\nimport { SymposiumService } from 'src/app/core/services/symposium.service';\n\n@Component({\n  selector: 'app-symposium-preference',\n  templateUrl: './symposium-preference.component.html',\n  styleUrls: ['./symposium-preference.component.css']\n})\nexport class SymposiumPreferenceComponent implements OnInit {\n\n  description = 'Aquí puede elegir los simposios de su preferencia. Estos serán tenidos en cuenta al momento de que se le asigne artículos para evaluar.';\n  symposiumList: ISymposium[] = [];\n  mySymposiums: ISymposium[] = [];\n  ready = false;\n\n  constructor( private symposiumService: SymposiumService,\n               private toastr: ToastrService) { }\n\n  ngOnInit(): void {\n    this.getSimposios();\n  }\n\n  getSimposios(): void {\n    this.symposiumService.getSymposium().subscribe((res: any) => {\n      this.symposiumList = res.data;\n      this.getSimposiosEvaluador();\n    });\n  }\n\n  getSimposiosEvaluador(): void {\n    let data = [];\n    this.symposiumService.getEvaluatorSymposium().subscribe((res: any) => {\n      data = res.data;\n      this.mySymposiums = data.map((x: any) => {\n        return {\n          id: x.idSimposio,\n          nombre: x.nombreSimposio,\n          descripcion: x.descripcionSimposio\n        };\n      });\n      this.excluirPreferencias();\n    });\n  }\n\n  asignarSimposioEvaluador(simposio: ISymposium, index): void {\n    const data = {simposios: simposio.id.toString()};\n    this.symposiumService.postEvaluatorSymposium(data).subscribe((res: any) => {\n      this.mySymposiums.push(simposio);\n      this.symposiumList.splice(index, 1);\n      this.toastr.success('Simposio agregado!');\n    });\n  }\n\n  eliminarSimposioEvaluador(simposio: ISymposium, index): void {\n    this.symposiumService.deleteEvaluatorSymposium(simposio).subscribe((res: any) => {\n      this.mySymposiums.splice(index, 1);\n      this.symposiumList.push(simposio);\n      this.toastr.success('Simposio Eliminado!');\n    });\n  }\n\n  excluirPreferencias(): void {\n    const aux = [];\n    console.log(this.symposiumList);\n    console.log(this.mySymposiums);\n    const ids = this.mySymposiums.map((x) => x.id);\n    this.symposiumList = this.symposiumList.filter((x: any) => {\n      if (!ids.includes(x.id)) {\n        return x;\n      }\n    });\n    console.log(this.symposiumList);\n    this.ready = true;\n  }\n}\n","export default \"<div class=\\\"container-fluid\\\">\\n    <div class=\\\"contenidos\\\">\\n      <hr>\\n      <h3 class='text-center'>Preferencia de Simposios</h3>\\n      <hr>\\n    </div>\\n    <div class=\\\"container\\\">\\n        <div class=\\\"row\\\">\\n            {{description}}\\n        </div>\\n    </div>\\n    <div class=\\\"row justify-content-md-center\\\">\\n        <!-- Todos los Simposios -->\\n        <div class=\\\"col col-md-6\\\">\\n            <h4 class=\\\"text-center\\\">Todos los Simposios</h4>\\n            <table class=\\\"table text-center table-hover table-bordered\\\" *ngIf=\\\"ready\\\">\\n                <thead class='thead'>\\n                  <tr>\\n                    <th class=\\\"col-md-2\\\">Nombre</th>\\n                    <th class=\\\"col-md-3\\\">Descripción</th>\\n                    <th class=\\\"col-md-1\\\">Agregar</th>\\n                  </tr>\\n                </thead>\\n                <tbody >\\n                  <tr class='align-items-center' *ngFor='let s of symposiumList; let i = index'>\\n                    <td>{{s.nombre}}</td>\\n                    <td>{{s.descripcion}}</td>\\n                    <td><a title='Agregar' role=\\\"button\\\" (click)=\\\"asignarSimposioEvaluador(s, i)\\\"><i class=\\\"fas fa-plus fa-lg\\\"></i></a></td>\\n                  </tr>\\n                </tbody>\\n              </table>\\n        </div>\\n        <!-- Mis Simposios -->\\n        <div class=\\\"col col-md-6\\\">\\n            <h4 class=\\\"text-center\\\">Mis Simposios</h4>\\n            <table class=\\\"table text-center table-hover table-bordered\\\">\\n                <thead class='thead'>\\n                  <tr>\\n                    <th class=\\\"col-md-2\\\">Nombre</th>\\n                    <th class=\\\"col-md-3\\\">Descripción</th>\\n                    <th class=\\\"col-md-1\\\">Acción</th>\\n                  </tr>\\n                </thead>\\n                <tbody>\\n                  <tr class='align-items-center' *ngFor='let s of mySymposiums; index as i'>\\n                    <td>{{s.nombre}}</td>\\n                    <td>{{s.descripcion}}</td>\\n                    <td><a title='Eliminar' role=\\\"button\\\" (click)=\\\"eliminarSimposioEvaluador(s, i)\\\"><i class=\\\"fas fa-trash fa-lg\\\"></i></a></td>\\n                  </tr>\\n                </tbody>\\n              </table>\\n        </div>\\n  </div>\\n  <div>\\n\\n\";","export default \".container-fluid{\\n    background-color: #F4F4F4;\\n}\\n  \\n.contenidos{\\npadding-bottom: 3rem;\\n}\\n  \\n.thead{\\nbackground-color: #C8E5F1;\\n}\\n  \\n.row {\\n    margin-bottom: 20px;\\n}\\n  \\n.fas{\\ncolor: #3CAFE0;\\n}\\n  \\n.fas:hover{\\ncolor: #3994bb;\\ncursor: pointer;\\n}\\n  \\nhr{\\nborder:#00609C solid 1px;\\n}\\n  \\n@media (min-width: 768px) {\\nhr{\\n    margin-left: 25%;\\n    margin-right: 25%;\\n\\n}\\n\\n.container-fluid{\\n    padding: 5rem;\\n}\\n}\\n  \\n  \";","import { NgModule } from '@angular/core';\nimport { RouterModule, Routes } from '@angular/router';\nimport { SymposiumPreferenceComponent } from './symposium-preference.component';\n\nconst routes: Routes = [{\n  path: '',\n  component: SymposiumPreferenceComponent\n}];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule]\n})\nexport class SymposiumPreferenceRoutingModule { }\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\n\nimport { SymposiumPreferenceRoutingModule } from './symposium-preference-routing.module';\nimport { CoreModule } from 'src/app/core/core.module';\nimport { SymposiumPreferenceComponent } from './symposium-preference.component';\n\n\n@NgModule({\n  declarations: [SymposiumPreferenceComponent],\n  imports: [\n    CommonModule,\n    SymposiumPreferenceRoutingModule,\n    CoreModule\n  ]\n})\nexport class SymposiumPreferenceModule { }\n"],"sourceRoot":"webpack:///"}