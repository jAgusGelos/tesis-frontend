{"version":3,"sources":["./src/app/pages/congress/congress.component.ts","./src/app/pages/congress/congress.component.html","./src/app/pages/congress/congress.component.css","./src/app/pages/congress/congress-routing.module.ts","./src/app/pages/congress/congress.module.ts"],"names":["CongressComponent","congressService","router","toastr","congressList","edit","congress","sedes","showComponent","this","routeReuseStrategy","shouldReuseRoute","window","scrollTo","getCongress","getSedes","subscribe","res","data","map","x","id","sede","nombre_sede","ano","año","nombre","chairPrincipal","coordLocal","item","deleteCongress","success","navigateByUrl","postCongress","console","log","putCongress","selector","template","routes","path","component","CongressRoutingModule","imports","forChild","exports","CongressModule","declarations","schemas","providers"],"mappings":"0PAWaA,EAAiB,MAU5B,YAAoBC,EACAC,EACAC,GAFA,KAAAF,kBACA,KAAAC,SACA,KAAAC,SAVpB,KAAAC,aAAe,GACf,KAAAC,MAAO,EACP,KAAAC,SAAW,GACX,KAAAC,MAAQ,GAER,KAAAC,cAAgB,OAOFC,KAAKP,OAAOQ,mBAAmBC,iBAAmB,KACzC,EAIvB,WACEC,OAAOC,SAAS,EAAG,GACnBJ,KAAKK,cACLL,KAAKM,WAGP,WACEN,KAAKR,gBAAgBc,WAAWC,UAAWC,IACzCR,KAAKF,MAAQU,EAAIC,OAIrB,cACET,KAAKR,gBAAgBa,cAAcE,UAAWC,IAC5CR,KAAKL,aAAea,EAAIC,KACxBT,KAAKL,aAAeK,KAAKL,aAAae,IAAKC,IAClC,CACLC,GAAID,EAAEC,GACNC,KAAMF,EAAEE,KACRC,YAAaH,EAAEG,YACfC,IAAKJ,EAAEK,SACPC,OAAQN,EAAEM,OACVC,eAAgBP,EAAEO,eAClBC,WAAYR,EAAEQ,gBAMtB,cACEnB,KAAKJ,MAAQI,KAAKJ,KAClBI,KAAKH,SAAW,GAGlB,aAAaA,GACXG,KAAKJ,MAAQI,KAAKJ,KAClBI,KAAKH,SAAWA,EAGlB,eAAeuB,GACbpB,KAAKR,gBAAgB6B,eAAeD,GAAMb,UAAWC,IACnDR,KAAKN,OAAO4B,QAAQ,+CACpBtB,KAAKP,OAAO8B,cAAc,eAW7B,qBAAqBH,GACpBpB,KAAKR,gBAAgBgC,aAAaJ,GAAMb,UAAWC,IACjDiB,QAAQC,IAAI,iBAEZ1B,KAAKN,OAAO4B,QAAQ,iCACpBtB,KAAKP,OAAO8B,cAAc,eAK9B,mBAAmBH,GACjBpB,KAAKR,gBAAgBmC,YAAYP,GAAMb,UAAWC,IAChDR,KAAKN,OAAO4B,QAAQ,qCACpBtB,KAAKP,OAAO8B,cAAc,iB,4BA5FvB,K,MAHA,K,MACA,MASIhC,EAAiB,aAL7B,YAAU,CACTqC,SAAU,eACVC,SCRa,uf,QCAA,OFWFtC,GGPb,MAAMuC,EAAiB,CACrB,CACEC,KAAM,GACNC,UAAWzC,I,IAQF0C,EAAqB,QAArBA,EAAqB,aAJjC,YAAS,CACRC,QAAS,CAAC,IAAaC,SAASL,IAChCM,QAAS,CAAC,QAECH,G,ICQAI,EAAc,QAAdA,EAAc,aAd1B,YAAS,CACRC,aAAc,CAAC/C,GACf2C,QAAS,CACP,IACAD,EACA,IACA,KAEFM,QAAS,CAAC,KACVC,UAAW,CACT,QAISH","file":"19.js","sourcesContent":["import { Component, OnInit } from '@angular/core';\nimport { Router } from '@angular/router';\nimport { ToastrService } from 'ngx-toastr';\nimport { ICongress } from 'src/app/core/models/ICongress';\nimport { CongressService } from 'src/app/core/services/congress.service';\n\n@Component({\n  selector: 'app-congress',\n  templateUrl: './congress.component.html',\n  styleUrls: ['./congress.component.css']\n})\nexport class CongressComponent implements OnInit {\n\n  congressList = [];\n  edit = false;\n  congress = {};\n  sedes = [];\n\n  showComponent = 'list';\n\n\n  constructor(private congressService: CongressService,\n              private router: Router,\n              private toastr: ToastrService,\n              ) {\n                this.router.routeReuseStrategy.shouldReuseRoute = () => {\n                  return false;\n                };\n               }\n\n  ngOnInit(): void {\n    window.scrollTo(0, 0);\n    this.getCongress();\n    this.getSedes();\n  }\n\n  getSedes(): void {\n    this.congressService.getSedes().subscribe((res: any) => {\n      this.sedes = res.data;\n    });\n  }\n\n  getCongress(): void {\n    this.congressService.getCongress().subscribe((res: any) => {\n      this.congressList = res.data;\n      this.congressList = this.congressList.map((x: any) => {\n        return {\n          id: x.id,\n          sede: x.sede,\n          nombre_sede: x.nombre_sede,\n          ano: x.año,\n          nombre: x.nombre,\n          chairPrincipal: x.chairPrincipal,\n          coordLocal: x.coordLocal\n        };\n      });\n    });\n  }\n\n  newCongress(): void {\n    this.edit = !this.edit;\n    this.congress = {};\n  }\n\n  editCongress(congress: ICongress): void {\n    this.edit = !this.edit;\n    this.congress = congress;\n  }\n\n  deleteCongress(item: ICongress): void {\n    this.congressService.deleteCongress(item).subscribe((res: any) => {\n      this.toastr.success('El congreso ha sido eliminado correctamente');\n      this.router.navigateByUrl('/congreso');\n    });\n  }\n\n  /**\n   *\n   * @param item\n   * Recibe un congreso, chequea que tenga un id.\n   * Si lo tiene hace un PUT al back. Actualiza un congreso creado.\n   * Si no lo tiene crea un nuevo congreso.\n   */\n   toggleCreateCongress(item: ICongress): void {\n    this.congressService.postCongress(item).subscribe((res: any) => {\n      console.log('Estamos aCAAA');\n\n      this.toastr.success('Congreso Creado Correctamente');\n      this.router.navigateByUrl('/congreso');\n    });\n\n  }\n\n  toggleEditCongress(item: ICongress): void {\n    this.congressService.putCongress(item).subscribe((res: any) => {\n      this.toastr.success('Congreso Modificado Correctamente');\n      this.router.navigateByUrl('/congreso');\n    });\n  }\n\n}\n","export default \"<div class=\\\"container-fluid\\\">\\n  <app-congress-list *ngIf=\\\"!edit\\\"\\n  (newCongressEvent)='newCongress()' [congressList] = 'congressList'\\n  (editCongressEvent)='editCongress($event)' (deleteCongressEvent)='deleteCongress($event)'>\\n  </app-congress-list>\\n  <app-congress-form *ngIf=\\\"edit\\\" [congress]='congress' [sedes]='sedes'\\n  (congressEmitter)='toggleCreateCongress($event)'\\n  (cancelCongress)='newCongress()' (editCongress) ='toggleEditCongress($event)'>\\n</app-congress-form>\\n</div>\\n\\n\";","export default \"\";","import { NgModule } from '@angular/core';\nimport { RouterModule, Routes } from '@angular/router';\nimport { CongressComponent } from './congress.component';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: CongressComponent\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule]\n})\nexport class CongressRoutingModule { }\n","import { CUSTOM_ELEMENTS_SCHEMA, NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { CoreModule } from 'src/app/core/core.module';\nimport { HttpClientModule } from '@angular/common/http';\nimport { CongressComponent } from './congress.component';\nimport { CongressRoutingModule } from './congress-routing.module';\n\n\n\n@NgModule({\n  declarations: [CongressComponent],\n  imports: [\n    CommonModule,\n    CongressRoutingModule,\n    CoreModule,\n    HttpClientModule\n  ],\n  schemas: [CUSTOM_ELEMENTS_SCHEMA],\n  providers: [\n    HttpClientModule\n  ]\n\n})\nexport class CongressModule { }\n"],"sourceRoot":"webpack:///"}