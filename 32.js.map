{"version":3,"sources":["./src/app/pages/evaluate-papers-chair-sec/evaluate-papers-chair-sec.component.ts","./src/app/pages/evaluate-papers-chair-sec/evaluate-papers-chair-sec.component.html","./src/app/pages/evaluate-papers-chair-sec/evaluate-papers-chair-sec.component.css","./src/app/pages/evaluate-papers-chair-sec/evaluate-papers-chair-sec-routing.module.ts","./src/app/pages/evaluate-papers-chair-sec/evaluate-papers-chair-sec.module.ts"],"names":["EvaluatePapersChairSecComponent","paperService","evaluationService","edit","articulos","vectorArticulos","detailed","index","observacionAutor","detalles","detNombreArticulo","detEstado","id","nombre","detEvUno","detEvDos","detEvTres","puntuaciones","value","this","getArticulos","select","document","getElementById","opt","options","selectedIndex","optNumber","parseInt","evaluar","classList","add","estado","idEstado","bandera","idArticulo","calificacion","obs","observacion","calificarPaper","subscribe","res","setBadges","toggleEdit","art","ev","evaluaciones","length","idEvaluador","evaluador","getItemsEvaluacion","items","data","getEvaluationDetails","ans","ev1","ev2","ev3","forEach","e","calif1","calif2","calif3","rec1","rec2","rec3","obs1","obs2","obs3","obsInterna1","obsInterna2","obsInterna3","i","undefined","itemsEvaluados","push","aspecto","res1","res2","res3","recomendacion","observacionInterna","click","getPaperFile","blob","Blob","type","url","window","URL","createObjectURL","link","createElement","download","setAttribute","style","visibility","body","appendChild","removeChild","getPapersXChair","sortByState","map","x","idCongreso","idSimposio","responsable","sort","a","b","remove","selector","template","routes","path","component","EvaluatePapersChairSecRoutingModule","imports","forChild","exports","EvaluatePapersChairSecModule","declarations","schemas"],"mappings":"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","file":"32.js","sourcesContent":["import { Component, NgModule, OnInit } from '@angular/core';\nimport { PaperService } from 'src/app/core/services/paper.service';\nimport { EvaluationService } from 'src/app/core/services/evaluation.service';\nimport { IntPaper } from 'src/app/core/models/IntPaper';\n\n@Component({\n  selector: 'app-evaluate-papers-chair-sec',\n  templateUrl: './evaluate-papers-chair-sec.component.html',\n  styleUrls: ['./evaluate-papers-chair-sec.component.css']\n})\nexport class EvaluatePapersChairSecComponent implements OnInit {\n\n  edit = false;\n  articulos = [];\n  vectorArticulos = [];\n  detailed = false;\n\n  // Detalles\n  index = 0;\n  observacionAutor = '';\n  detalles = [];\n  detNombreArticulo = '';\n  detEstado = {\n    id: 0,\n    nombre: ''\n  };\n  detEvUno = {id: 0, nombre: 'Evaluador 1'};\n  detEvDos = {id: 0, nombre: 'Evaluador 2'};\n  detEvTres = {id: 0, nombre: 'Evaluador 3'};\n  puntuaciones = [{value: 0, nombre: ''},\n                  {value: 1, nombre: 'Muy Débil'},\n                  {value: 2, nombre: 'Débil'},\n                  {value: 3, nombre: 'Aceptable'},\n                  {value: 4, nombre: 'Bueno'},\n                  {value: 5, nombre: 'Muy bueno'}];\n\n  constructor(private paperService: PaperService,\n              private evaluationService: EvaluationService) { }\n\n  ngOnInit(): void {\n    this.getArticulos();\n  }\n\n  evaluarDetalle(index): void {\n    const select = document.getElementById('selectStateDetalle') as HTMLSelectElement;\n    const opt = select.options[select.selectedIndex].value;\n    if (opt === '') {\n      document.getElementById('selectStateDetalle').classList.add('is-invalid');\n      return;\n    } else {\n      const optNumber = parseInt(opt, 10);\n      this.evaluar(index, optNumber);\n    }\n  }\n\n  evaluar(index, opt): void {\n    let estado = this.vectorArticulos[index].idEstado;\n    let bandera = false;\n    if (estado >= 5) {\n      bandera = true;\n    }\n    if (opt === 1 && bandera) { // Aprobar Reentrega\n      estado = 8;\n    } else if (opt === 2 && bandera) { // Rechazar Reentrega\n      estado = 9;\n    } else if (opt === 1) { // Aprobar\n      estado = 6;\n    } else if (opt === 2) { // Rechazar\n      estado = 7;\n    } else if (opt === 3) { // Reentregar\n      estado = 5;\n    }\n    const idArticulo = this.vectorArticulos[index].id;\n    const calificacion = estado;\n    const obs = document.getElementById('observacion-autor') as HTMLTextAreaElement;\n    this.observacionAutor = obs.value;\n    this.articulos[index].observacion = obs.value;\n    this.vectorArticulos[index].observacion = obs.value;\n    this.paperService.calificarPaper(idArticulo, calificacion, this.observacionAutor).subscribe((res: any) => {\n      const sel = document.getElementById('selectStateDetalle') as HTMLSelectElement;\n      sel.value = '';\n      this.setBadges(index, calificacion);\n      this.toggleEdit(index);\n    });\n  }\n\n  setBadges(index, estado): any {\n    if (estado === 6) {\n      this.vectorArticulos[index].idEstado = estado;\n      this.vectorArticulos[index].estado = 'Aprobado';\n      this.detEstado.id = 6;\n      this.detEstado.nombre = 'Aprobado';\n      return;\n    }\n    if (estado === 7) {\n      this.vectorArticulos[index].idEstado = estado;\n      this.vectorArticulos[index].estado = 'Rechazado';\n      this.detEstado.id = 7;\n      this.detEstado.nombre = 'Rechazado';\n      return;\n    }\n    if (estado === 5) {\n      this.vectorArticulos[index].idEstado = estado;\n      this.vectorArticulos[index].estado = 'Para Reentregar';\n      this.detEstado.id = 5;\n      this.detEstado.nombre = 'Para Reentregar';\n      return;\n    }\n    if (estado === 8) {\n      this.vectorArticulos[index].idEstado = estado;\n      this.vectorArticulos[index].estado = 'Aprobado Reentrega';\n      this.detEstado.id = 8;\n      this.detEstado.nombre = 'Aprobado Reentrega';\n      return;\n    }\n    if (estado === 9) {\n      this.vectorArticulos[index].idEstado = 9;\n      this.vectorArticulos[index].estado = 'Rechazado Reentrega';\n      this.detEstado.id = 9;\n      this.detEstado.nombre = 'Rechazado Reentrega';\n      return;\n    }\n  }\n\n  verDetalle(index): void {\n    this.index = index;\n    this.detEvUno.nombre = 'Evaluador 1';\n    this.detEvDos.nombre = 'Evaluador 2';\n    this.detEvTres.nombre = 'Evaluador 3';\n    const art = this.vectorArticulos[index];\n    const ev = art.evaluaciones;\n    this.detNombreArticulo = art.nombre;\n    const obs = document.getElementById('observacion-autor') as HTMLTextAreaElement;\n    obs.value = art.observacion;\n    this.observacionAutor = art.observacion;\n    this.detEstado.id = art.idEstado;\n    this.detEstado.nombre = art.estado;\n    if (ev.length >= 1) {\n      this.detEvUno.id = ev[0].idEvaluador;\n      this.detEvUno.nombre = ev[0].evaluador;\n    }\n    if (ev.length >= 2) {\n      this.detEvDos.id = ev[1].idEvaluador;\n      this.detEvDos.nombre = ev[1].evaluador;\n    }\n    if (ev.length >= 3) {\n      this.detEvTres.id = ev[2].idEvaluador;\n      this.detEvTres.nombre = ev[2].evaluador;\n    }\n    this.evaluationService.getItemsEvaluacion(1).subscribe((res: any) => {\n      const items = res.data;\n      this.paperService.getEvaluationDetails(art.id).subscribe((ans: any) => {\n        const evaluaciones = ans.data;\n        let ev1;\n        let ev2;\n        let ev3;\n        evaluaciones.forEach(e => {\n          if (e.idEvaluador === this.detEvUno.id) {\n            ev1 = e;\n          }\n          else if (e.idEvaluador === this.detEvDos.id) {\n            ev2 = e;\n          }\n          else {\n            ev3 = e;\n          }\n        });\n        let calif1 = null;\n        let calif2 = null;\n        let calif3 = null;\n        let rec1 = null;\n        let rec2 = null;\n        let rec3 = null;\n        let obs1 = null;\n        let obs2 = null;\n        let obs3 = null;\n        let obsInterna1 = null;\n        let obsInterna2 = null;\n        let obsInterna3 = null;\n        for (let i = 0; i < items.length; i++) {\n          if (ev1 !== undefined) {\n            if (ev1.itemsEvaluados[i] !== undefined) { calif1 = ev1.itemsEvaluados[i].calificacion; }\n            else { calif1 = 0; }\n          } else { calif1 = 0; }\n          if (ev2 !== undefined) {\n            if (ev2.itemsEvaluados[i] !== undefined) { calif2 = ev2.itemsEvaluados[i].calificacion; }\n            else { calif2 = 0; }\n          } else { calif2 = 0; }\n          if (ev3 !== undefined) {\n            if (ev3.itemsEvaluados[i] !== undefined) { calif3 = ev3.itemsEvaluados[i].calificacion; }\n            else { calif3 = 0; }\n          } else { calif3 = 0; }\n          this.detalles.push({aspecto: items[i].nombre,\n                              res1: this.puntuaciones[calif1].nombre,\n                              res2: this.puntuaciones[calif2].nombre,\n                              res3: this.puntuaciones[calif3].nombre});\n          calif1 = null, calif2 = null, calif3 = null;\n        }\n        if (this.vectorArticulos[index].evaluaciones[0] !== undefined) {\n          rec1 = this.vectorArticulos[index].evaluaciones[0].recomendacion;\n          obs1 = this.vectorArticulos[index].evaluaciones[0].observacion;\n          obsInterna1 = this.vectorArticulos[index].evaluaciones[0].observacionInterna;\n        } else {\n          rec1 = null;\n          obs1 = null;\n          obsInterna1 = null;\n        }\n        if (this.vectorArticulos[index].evaluaciones[1] !== undefined) {\n          rec2 = this.vectorArticulos[index].evaluaciones[1].recomendacion;\n          obs2 = this.vectorArticulos[index].evaluaciones[1].observacion;\n          obsInterna2 = this.vectorArticulos[index].evaluaciones[1].observacionInterna;\n        } else {\n          rec2 = null;\n          obs2 = null;\n          obsInterna2 = null;\n        }\n        if (this.vectorArticulos[index].evaluaciones[2] !== undefined) {\n          rec3 = this.vectorArticulos[index].evaluaciones[2].recomendacion;\n          obs3 = this.vectorArticulos[index].evaluaciones[2].observacion;\n          obsInterna3 = this.vectorArticulos[index].evaluaciones[2].observacionInterna;\n        } else {\n          rec3 = null;\n          obs3 = null;\n          obsInterna3 = null;\n        }\n        this.detalles.push({aspecto: 'Recomendación',\n          res1: rec1,\n          res2: rec2,\n          res3: rec3});\n        this.detalles.push({aspecto: 'Observación para el Autor',\n          res1: obs1,\n          res2: obs2,\n          res3: obs3});\n        this.detalles.push({aspecto: 'Observación Interna',\n          res1: obsInterna1,\n          res2: obsInterna2,\n          res3: obsInterna3});\n      });\n    });\n    const btnDetalle = document.getElementById('activar-modal');\n    btnDetalle.click();\n  }\n\n  getArchivo(index): void {\n    const id = this.vectorArticulos[index].id;\n    this.paperService.getPaperFile(id).subscribe((res: any) => {\n      const archivo: ArrayBuffer = res;\n      const blob = new Blob([archivo], { type: 'application/pdf' });\n      const url = window.URL.createObjectURL(blob);\n      const link = document.createElement('a');\n      if (link.download !== undefined) {\n        link.setAttribute('href', url);\n        link.setAttribute('target', '_blank');\n        link.style.visibility = 'hidden';\n        document.body.appendChild(link);\n        link.click();\n        document.body.removeChild(link);\n      }\n    });\n  }\n\n  getArticulos(): void {\n    this.articulos = [];\n    this.paperService.getPapersXChair().subscribe((res: any) => {\n      const data = res.data[0].articulos;\n      this.articulos = data;\n      this.sortByState();\n      this.articulos = this.articulos.map((x: any) => {\n        return {\n          estado: x.estado,\n          evaluaciones: x.evaluaciones,\n          id: x.id,\n          idCongreso: x.idCongreso,\n          idEstado: x.idEstado,\n          idSimposio: x.idSimposio,\n          nombre: x.nombre,\n          responsable: x.responsable,\n          observacion: x.observacion,\n          observacionInterna: x.observacionInterna,\n          url: x.url,\n          edit: false\n        };\n      });\n      this.vectorArticulos = this.articulos;\n    });\n  }\n\n  filter(estado): void {\n    this.vectorArticulos = [];\n    if (estado === 0) {\n      this.vectorArticulos = this.articulos;\n      return;\n    }\n    for (const art of this.articulos) {\n      if (art.idEstado === estado) {\n        this.vectorArticulos.push(art);\n      }\n    }\n  }\n\n  sortByState(): void {\n    this.articulos.sort((a, b) => {\n      if (a.idEstado > b.idEstado) {\n        return 1;\n      } else if (a.idEstado < b.idEstado) {\n        return -1;\n      } else {\n        return 0;\n      }\n    });\n  }\n\n  modalOnClose(index): void {\n    const sel = document.getElementById('selectStateDetalle') as HTMLSelectElement;\n    sel.value = '';\n    const obs = document.getElementById('observacion-autor') as HTMLTextAreaElement;\n    obs.value = '';\n    this.detalles = [];\n    document.getElementById('selectStateDetalle').classList.remove('is-invalid');\n    this.vectorArticulos[index].edit = false;\n  }\n\n  toggleEdit(index): void {\n    this.vectorArticulos[index].edit = !this.vectorArticulos[index].edit;\n  }\n}\n","export default \"<div class=\\\"container-fluid\\\">\\n  <div class=\\\"evaluation-cards\\\">\\n          <hr>\\n          <h3 class=\\\"card-title text-center\\\">Evaluación de Artículos</h3>\\n          <hr>\\n  </div>\\n  <!-- Filtros -->\\n    <div class=\\\"row\\\">\\n      <div class=\\\"col-auto col-form-label\\\"><label for=\\\"btn-group-filtros\\\">Filtros</label></div>\\n      <div class=\\\"btn-group col-auto\\\" id=\\\"btn-group-filtros\\\" role=\\\"group\\\">\\n        <button type=\\\"button\\\" class=\\\"btn btn-outline-primary\\\" (click)=\\\"filter(0)\\\">Todos</button>\\n        <button type=\\\"button\\\" class=\\\"btn btn-outline-primary\\\" (click)=\\\"filter(4)\\\">Pendiente</button>\\n        <button type=\\\"button\\\" class=\\\"btn btn-outline-primary\\\" (click)=\\\"filter(6)\\\">Aprobados</button>\\n        <button type=\\\"button\\\" class=\\\"btn btn-outline-primary\\\" (click)=\\\"filter(7)\\\">Rechazados</button>\\n        <button type=\\\"button\\\" class=\\\"btn btn-outline-primary\\\" (click)=\\\"filter(5)\\\">Reentrega</button>\\n        <button type=\\\"button\\\" class=\\\"btn btn-outline-primary\\\" (click)=\\\"filter(8)\\\">Aprobado Reentrega</button>\\n        <button type=\\\"button\\\" class=\\\"btn btn-outline-primary\\\" (click)=\\\"filter(9)\\\">Rechazado Reentrega</button>\\n      </div>\\n    </div>\\n  <!-- Evaluation Cards List -->\\n  <div *ngFor=\\\"let art of vectorArticulos; index as i\\\">\\n      <div class=\\\"card col-md-6 offset-3\\\">\\n          <div class=\\\"card-body\\\">\\n            <div class=\\\"row \\\">\\n              <div class=\\\"col-auto me-auto\\\">\\n                <h5 class=\\\"card-title\\\">{{art.nombre}}</h5>\\n              </div>\\n              <div class=\\\"col-auto\\\">\\n                <h5 class=\\\"card-title\\\"><span class=\\\"badge bg-primary\\\"\\n                  [class.bg-warning]=\\\"art.idEstado === 5\\\"\\n                  [class.text-dark]=\\\"art.idEstado === 5\\\"\\n                  [class.bg-success]=\\\"art.idEstado === 6 || art.idEstado === 8\\\"\\n                  [class.bg-danger]=\\\"art.idEstado === 7 || art.idEstado === 9\\\">{{art.estado}}</span></h5>\\n              </div>\\n            </div>\\n            <div class=\\\"row\\\">\\n              <h6 class=\\\"card-subtitle mb-2 text-muted\\\" id=\\\"evaluadores\\\">Evaluadores:</h6>\\n            </div>\\n              <div *ngFor=\\\"let ev of art.evaluaciones\\\" class=\\\"row ev-reco\\\">\\n                <div class=\\\"col col-md-3\\\">\\n                  <p id=\\\"nombreEvaluador\\\">&nbsp;&nbsp;&nbsp;&nbsp;{{ev.evaluador}}:</p>\\n                </div>\\n                <div class=\\\"col col-md-3\\\">\\n                  <p class=\\\"card-text\\\">{{ev.recomendacion}}</p>\\n                </div>\\n              </div>\\n          </div>\\n          <div class=\\\"card-footer\\\">\\n            <a class=\\\"btn  card-footer-btn\\\" (click)=\\\"getArchivo(i)\\\"><i class=\\\"fas fa-file-pdf\\\"></i> Ver artículo</a> \\n            &nbsp; \\n            <a class=\\\"btn  card-footer-btn\\\" (click)=\\\"verDetalle(i)\\\"><i class=\\\"fa fa-search-plus\\\"></i> Ver detalle</a>\\n            <a *ngIf=\\\"!art.edit\\\" class=\\\"btn card-footer-btn\\\" id=\\\"editar\\\" (click)=\\\"toggleEdit(i)\\\"><i class=\\\"fa fa-pencil\\\"></i> Evaluar</a>\\n            <div id=\\\"evaluation-select\\\" *ngIf=\\\"art.edit\\\">\\n              <a class=\\\"btn btn-outline-success\\\" *ngIf=\\\"art.idEstado !== 6 && art.idEstado !== 8\\\" (click)=\\\"evaluar(i, 1)\\\">Aprobar</a>\\n              &nbsp;\\n              <a class=\\\"btn btn-outline-danger\\\" *ngIf=\\\"art.idEstado !== 7 && art.idEstado !== 9\\\" (click)=\\\"evaluar(i, 2)\\\">Rechazar</a>\\n              &nbsp;\\n              <a class=\\\"btn btn-outline-warning\\\" *ngIf=\\\"art.idEstado !== 5\\\" (click)=\\\"evaluar(i, 3)\\\">Reentrega</a>\\n              &nbsp;\\n              <a class=\\\"btn btn-outline-secondary\\\" title=\\\"Cancelar\\\" (click)=\\\"toggleEdit(i)\\\"><i class=\\\"fas fa-times fa-lg\\\"></i></a>\\n            </div>\\n          </div>\\n        </div>\\n  </div>\\n</div>\\n<!-- Evaluation Detail Modal -->\\n<button hidden id=\\\"activar-modal\\\" data-bs-toggle=\\\"modal\\\" data-bs-target=\\\"#detallesModal\\\"></button>\\n<!-- Modal Detalles -->\\n<div class=\\\"modal fade\\\" id=\\\"detallesModal\\\" data-bs-backdrop=\\\"static\\\" data-bs-keyboard=\\\"false\\\" tabindex=\\\"-1\\\" aria-labelledby=\\\"detallesModalLabel\\\" aria-hidden=\\\"true\\\">\\n  <div class=\\\"modal-dialog modal-xl modal-dialog-scrollable\\\">\\n    <div class=\\\"modal-content\\\">\\n      <div class=\\\"modal-header\\\">\\n          <h5 class=\\\"modal-title\\\" id=\\\"detallesModalLabel\\\">\\n            {{detNombreArticulo}} <span class=\\\"badge bg-primary\\\" [class.bg-warning]=\\\"detEstado.id === 5\\\"\\n                                                                 [class.text-dark]=\\\"detEstado.id === 5\\\"\\n                                                                 [class.bg-success]=\\\"detEstado.id === 6 || detEstado.id === 8\\\"\\n                                                                 [class.bg-danger]=\\\"detEstado.id === 7 || detEstado.id === 9\\\">{{detEstado.nombre}}</span></h5>\\n          <button type=\\\"button\\\" class=\\\"btn-close\\\" data-bs-dismiss=\\\"modal\\\" aria-label=\\\"Close\\\" (click)=\\\"modalOnClose(index)\\\"></button>\\n      </div>\\n      <div class=\\\"modal-body\\\">\\n        <div class=\\\"container\\\">\\n            <table class=\\\"table table-hover table-bordered\\\">\\n              <thead class=\\\"text-center\\\">\\n                <tr>\\n                  <th>Aspecto</th>\\n                  <th>{{detEvUno.nombre}}</th>\\n                  <th>{{detEvDos.nombre}}</th>\\n                  <th>{{detEvTres.nombre}}</th>\\n                </tr>\\n              </thead>\\n              <tbody class=\\\"text-center\\\">\\n                <tr *ngFor=\\\"let det of detalles\\\" >\\n                  <td>{{det.aspecto}}</td> <!-- criterio -->\\n                  <td>{{det.res1}}</td> <!-- ev1 -->\\n                  <td>{{det.res2}}</td> <!-- ev2 -->\\n                  <td>{{det.res3}}</td> <!-- ev3 -->\\n              </tbody>\\n            </table>\\n            <div class=\\\"row row-detalle align-items-center\\\">\\n              <div class=\\\"col-md-3\\\">\\n                <label for=\\\"selectStateDetalle\\\" class=\\\"col-form-label\\\"><span id=\\\"spanEvaluacion\\\">Evaluación:</span></label>\\n              </div>\\n              <div class=\\\"col-md-4\\\">\\n                <select class=\\\"form-select\\\" id=\\\"selectStateDetalle\\\">\\n                  <option disabled selected value=\\\"\\\"></option>\\n                  <option value=\\\"1\\\" *ngIf=\\\"detEstado.id !== 6 && detEstado.id !== 8\\\">Aprobar</option>\\n                  <option value=\\\"2\\\" *ngIf=\\\"detEstado.id !== 7 && detEstado.id !== 9\\\">Rechazar</option>\\n                  <option value=\\\"3\\\" *ngIf=\\\"detEstado.id !== 5\\\">Necesita Reentrega</option>\\n              </select>\\n              </div>\\n            </div>\\n            <div class=\\\"row row-detalle\\\">\\n              <div class=\\\"col-md-3\\\">\\n                <label for=\\\"observacion-autor\\\" class=\\\"col-form-label\\\"><span id=\\\"spanEvaluacion\\\">Observación para el Autor:</span></label>\\n              </div>\\n              <div class=\\\"col-md-8\\\">\\n                <textarea class=\\\"form-control\\\" id=\\\"observacion-autor\\\">{{observacionAutor}}</textarea>\\n              </div>\\n            </div>\\n            <div class=\\\"row row-detalle\\\">\\n              <div class=\\\"col-md-3\\\"></div>\\n              <div class=\\\"col-auto\\\">\\n                <a class=\\\"btn btn-outline-success\\\" id=\\\"btnGuardar\\\" (click)=\\\"evaluarDetalle(index)\\\">Guardar Evaluación <i class=\\\"fa fa-save fa-lg\\\"></i></a>\\n              </div>\\n            </div>\\n        </div>\\n      </div>\\n      <div class=\\\"modal-footer\\\">\\n        <div class=\\\"col-auto me-auto\\\">\\n          <a class=\\\"btn btn-primary btn-border\\\" (click)=\\\"getArchivo(index)\\\"><i class=\\\"fas fa-file-pdf\\\"></i> Ver artículo</a>\\n        </div>\\n        <div class=\\\"col-auto\\\">\\n          <button type=\\\"button\\\" class=\\\"btn btn-secondary btn-border\\\" data-bs-dismiss=\\\"modal\\\" (click)=\\\"modalOnClose(index)\\\">Cerrar</button>\\n        </div>\\n      </div>\\n    </div>\\n  </div>\\n</div>\\n\";","export default \".container-fluid{\\n    background-color: #F4F4F4;\\n  \\n  }\\n  \\nhr{\\n    border:#00609C solid 1px;\\n}\\n  \\n@media (min-width: 768px) {\\n    hr{\\n        margin-left: 25%;\\n        margin-right: 25%;\\n\\n    }\\n\\n    .container-fluid{\\n        padding: 5rem;\\n    }\\n}\\n  \\n.ev-reco {\\n    margin-bottom: -15px;\\n}\\n  \\n.evaluation-cards {\\n    padding-bottom: 20px;\\n}\\n  \\n.card {\\n    margin-top: 20px;\\n}\\n  \\n.card-footer {\\n    background-color: white;\\n}\\n  \\n.modal-header {\\n    padding-left: 29px;\\n    padding-right: 29px;\\n}\\n  \\n.modal-footer {\\n    padding-left: 29px;\\n    padding-right: 29px;\\n}\\n  \\n.row-detalle {\\n    margin-bottom: 10px;\\n}\\n  \\n.table {\\n    margin-top: 30px;\\n}\\n  \\n.btn-primary {\\n    background-color: #00609C;\\n    color: white;\\n    border-color: transparent;\\n}\\n  \\n.btn-primary:hover {\\n    background-color: #0080cf;\\n}\\n  \\n.btn-border {\\n    border: none;\\n}\\n  \\n.btn-outline-primary {\\n    border-color: #00609C;\\n    color: #00609C;\\n}\\n  \\n.btn-outline-primary:hover {\\n    background-color: #00609C;\\n    border-color: #00609C;\\n    color: white;\\n}\\n  \\n.card-footer-btn {\\n    color: #00609C;\\n    background: transparent;\\n    border: transparent;\\n}\\n  \\n.card-footer-btn:hover {\\n    color: #3cafe0;\\n}\\n  \\n#selectStateDetalle {\\n    float: left;\\n}\\n  \\n#btnGuardar {\\n    float: right;\\n}\\n  \\n#evaluadores {\\n    font-style: italic;\\n}\\n  \\n#nombreEvaluador {\\n    font-weight: 500;\\n}\\n  \\n#responsable {\\n    font-style: italic;\\n}\\n  \\n#editar {\\n    float: right;\\n}\\n  \\n#evaluation-select {\\n    float:right;\\n}\\n  \\n#evaluation-select-detalle {\\n    white-space:nowrap;\\n}\\n  \\n#spanEvaluacion {\\n    font-weight: 500;\\n}\\n\";","import { NgModule } from '@angular/core';\nimport { RouterModule, Routes } from '@angular/router';\nimport { EvaluatePapersChairSecComponent } from './evaluate-papers-chair-sec.component';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: EvaluatePapersChairSecComponent\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule]\n})\nexport class EvaluatePapersChairSecRoutingModule { }\n","import { CUSTOM_ELEMENTS_SCHEMA, NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { EvaluatePapersChairSecRoutingModule } from './evaluate-papers-chair-sec-routing.module';\nimport { CoreModule } from 'src/app/core/core.module';\nimport { HttpClientModule } from '@angular/common/http';\nimport { EvaluatePapersChairSecComponent } from './evaluate-papers-chair-sec.component';\n\n\n\n@NgModule({\n  declarations: [EvaluatePapersChairSecComponent],\n  imports: [\n    CommonModule,\n    EvaluatePapersChairSecRoutingModule,\n    CoreModule,\n    HttpClientModule\n  ],\n  schemas: [CUSTOM_ELEMENTS_SCHEMA]\n})\nexport class EvaluatePapersChairSecModule { }\n"],"sourceRoot":"webpack:///"}