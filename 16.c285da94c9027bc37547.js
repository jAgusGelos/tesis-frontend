(window.webpackJsonp=window.webpackJsonp||[]).push([[16],{"6TGS":function(i,t,e){"use strict";e.r(t),e.d(t,"ControlBoardModule",function(){return L});var o=e("ofXK"),a=e("tyNb"),n=e("fXoL"),c=e("y6im"),r=e("isFk"),l=e("VRfU"),s=e("1kSV"),d=e("bcAm");function b(i,t){if(1&i){const i=n.Sb();n.Rb(0,"div",23),n.Rb(1,"a",24),n.bc("click",function(){n.Bc(i);const t=n.dc(2).$implicit;return n.dc().eliminarYAsignar(t,t.nomEval[0])}),n.Jc(2,"Eliminar y Reasignar"),n.Qb(),n.Qb()}}function v(i,t){if(1&i&&(n.Rb(0,"td"),n.Rb(1,"div",18),n.Rb(2,"h6"),n.Jc(3),n.Qb(),n.Qb(),n.Rb(4,"div",18),n.Rb(5,"div",19),n.Jc(6," Confirmado "),n.Qb(),n.Rb(7,"div",8),n.Nb(8,"button",20),n.Qb(),n.Qb(),n.Rb(9,"div",21),n.Rb(10,"div",19),n.Jc(11," Evaluado "),n.Qb(),n.Rb(12,"div",8),n.Nb(13,"button",20),n.Qb(),n.Qb(),n.Hc(14,b,3,0,"div",22),n.Qb()),2&i){const i=n.dc().$implicit;n.Ab(3),n.Mc("",i.nomEval[0].nombre," ",i.nomEval[0].apellido,""),n.Ab(5),n.lc("ngClass",i.nomEval[0].is_active?"verde":"rojo"),n.Ab(5),n.lc("ngClass",3===i.nomEval[0].idEstadoEvaluacion?"verde":"rojo"),n.Ab(1),n.lc("ngIf",!(i.nomEval[0].idEstadoEvaluacion>=2))}}function u(i,t){if(1&i&&(n.Rb(0,"option",29),n.Jc(1),n.Qb()),2&i){const i=t.$implicit,e=n.dc(2).$implicit;n.mc("value",i.idEvaluador),n.lc("selected",e.idEval1===i.idEvaluador),n.Ab(1),n.Mc("",i.nombreEv," ",i.apellidoEv,"")}}function p(i,t){if(1&i){const i=n.Sb();n.Rb(0,"td"),n.Rb(1,"div",25),n.Rb(2,"select",26),n.bc("change",function(t){n.Bc(i);const e=n.dc().$implicit;return n.dc().selectOption1(t.target.value,e)}),n.Rb(3,"option",27),n.Jc(4,"Evaluador 1"),n.Qb(),n.Hc(5,u,2,4,"option",28),n.Qb(),n.Qb(),n.Qb()}if(2&i){const i=n.dc().$implicit,t=n.dc();n.Ab(3),n.lc("selected",null===i.idEval1),n.Ab(2),n.lc("ngForOf",t.evaluatorList)}}function g(i,t){if(1&i){const i=n.Sb();n.Rb(0,"div",23),n.Rb(1,"a",24),n.bc("click",function(){n.Bc(i);const t=n.dc(2).$implicit;return n.dc().eliminarYAsignar(t,t.nomEval[1])}),n.Jc(2,"Eliminar y Reasignar"),n.Qb(),n.Qb()}}function m(i,t){if(1&i&&(n.Rb(0,"td"),n.Rb(1,"div",18),n.Rb(2,"h6"),n.Jc(3),n.Qb(),n.Qb(),n.Rb(4,"div",18),n.Rb(5,"div",19),n.Jc(6," Confirmado "),n.Qb(),n.Rb(7,"div",8),n.Nb(8,"button",20),n.Qb(),n.Qb(),n.Rb(9,"div",21),n.Rb(10,"div",19),n.Jc(11," Evaluado "),n.Qb(),n.Rb(12,"div",8),n.Nb(13,"button",20),n.Qb(),n.Qb(),n.Hc(14,g,3,0,"div",22),n.Qb()),2&i){const i=n.dc().$implicit;n.Ab(3),n.Mc("",i.nomEval[1].nombre," ",i.nomEval[1].apellido,""),n.Ab(5),n.lc("ngClass",i.nomEval[1].is_active?"verde":"rojo"),n.Ab(5),n.lc("ngClass",3===i.nomEval[1].idEstadoEvaluacion?"verde":"rojo"),n.Ab(1),n.lc("ngIf",!(i.nomEval[1].idEstadoEvaluacion>=2))}}function f(i,t){if(1&i&&(n.Rb(0,"option",29),n.Jc(1),n.Qb()),2&i){const i=t.$implicit,e=n.dc(2).$implicit;n.mc("value",i.idEvaluador),n.lc("selected",e.idEval2===i.idEvaluador),n.Ab(1),n.Mc("",i.nombreEv," ",i.apellidoEv,"")}}function E(i,t){if(1&i){const i=n.Sb();n.Rb(0,"td"),n.Rb(1,"div",25),n.Rb(2,"select",26),n.bc("change",function(t){n.Bc(i);const e=n.dc().$implicit;return n.dc().selectOption2(t.target.value,e)}),n.Rb(3,"option",27),n.Jc(4,"Evaluador 2"),n.Qb(),n.Hc(5,f,2,4,"option",28),n.Qb(),n.Qb(),n.Qb()}if(2&i){const i=n.dc().$implicit,t=n.dc();n.Ab(3),n.lc("selected",null===i.idEval2),n.Ab(2),n.lc("ngForOf",t.evaluatorList)}}function h(i,t){if(1&i){const i=n.Sb();n.Rb(0,"div",23),n.Rb(1,"a",24),n.bc("click",function(){n.Bc(i);const t=n.dc(2).$implicit;return n.dc().eliminarYAsignar(t,t.nomEval[2])}),n.Jc(2,"Eliminar y Reasignar"),n.Qb(),n.Qb()}}function R(i,t){if(1&i&&(n.Rb(0,"td"),n.Rb(1,"div",18),n.Rb(2,"h6"),n.Jc(3),n.Qb(),n.Qb(),n.Rb(4,"div",18),n.Rb(5,"div",19),n.Jc(6," Confirmado "),n.Qb(),n.Rb(7,"div",8),n.Nb(8,"button",20),n.Qb(),n.Qb(),n.Rb(9,"div",21),n.Rb(10,"div",19),n.Jc(11," Evaluado "),n.Qb(),n.Rb(12,"div",8),n.Nb(13,"button",20),n.Qb(),n.Qb(),n.Hc(14,h,3,0,"div",22),n.Qb()),2&i){const i=n.dc().$implicit;n.Ab(3),n.Mc("",i.nomEval[2].nombre," ",i.nomEval[2].apellido,""),n.Ab(5),n.lc("ngClass",i.nomEval[2].is_active?"verde":"rojo"),n.Ab(5),n.lc("ngClass",3===i.nomEval[2].idEstadoEvaluacion?"verde":"rojo"),n.Ab(1),n.lc("ngIf",!(i.nomEval[2].idEstadoEvaluacion>=2))}}function Q(i,t){if(1&i&&(n.Rb(0,"option",29),n.Jc(1),n.Qb()),2&i){const i=t.$implicit,e=n.dc(2).$implicit;n.lc("value",i.idEvaluador)("selected",e.idEval3===i.idEvaluador),n.Ab(1),n.Mc("",i.nombreEv," ",i.apellidoEv,"")}}function A(i,t){if(1&i){const i=n.Sb();n.Rb(0,"td"),n.Rb(1,"div",25),n.Rb(2,"select",26),n.bc("change",function(t){n.Bc(i);const e=n.dc().$implicit;return n.dc().selectOption3(t.target.value,e)}),n.Rb(3,"option",27),n.Jc(4,"Evaluador 3"),n.Qb(),n.Hc(5,Q,2,4,"option",28),n.Qb(),n.Qb(),n.Qb()}if(2&i){const i=n.dc().$implicit,t=n.dc();n.Ab(3),n.lc("selected",null===i.idEval3),n.Ab(2),n.lc("ngForOf",t.evaluatorList)}}function P(i,t){if(1&i&&(n.Rb(0,"tr",16),n.Rb(1,"td"),n.Jc(2),n.Qb(),n.Hc(3,v,15,5,"td",17),n.Hc(4,p,6,2,"td",17),n.Hc(5,m,15,5,"td",17),n.Hc(6,E,6,2,"td",17),n.Hc(7,R,15,5,"td",17),n.Hc(8,A,6,2,"td",17),n.Qb()),2&i){const i=t.$implicit;n.Ab(2),n.Kc(i.nombreArticulo),n.Ab(1),n.lc("ngIf",i.idEval1),n.Ab(1),n.lc("ngIf",!i.idEval1),n.Ab(1),n.lc("ngIf",i.idEval2),n.Ab(1),n.lc("ngIf",!i.idEval2),n.Ab(1),n.lc("ngIf",i.idEval3),n.Ab(1),n.lc("ngIf",!i.idEval3)}}const C=[{path:"",component:(()=>{class i{constructor(i,t,e){this.evaluatorService=i,this.articulosService=t,this.congressService=e,this.evaluatorList=[],this.idEval=0,this.assignedPaperList=[],this.showAssignedPaperList=[],this.nombreArticulo="nombreArticulo",this.restFechaFinEv=0,this.restFechaFinProroga=0}ngOnInit(){this.getPaperList(),this.getEvaluators(),this.getCongress()}getCongress(){this.congressService.getCongressById().subscribe(i=>{this.fechaFinEv=i.data[0].fechaFinEvaluacion.split(" ")[0],this.fechaFinProrroga=i.data[0].fechaFinReEv.split(" ")[0];const t=864e5,e=new Date,o=i.data[0].fechaFinEvaluacion.split(" ")[0].split("/"),a=i.data[0].fechaFinReEv.split(" ")[0].split("/"),n=new Date(o[2],o[1]-1,o[0]),c=new Date(a[2],a[1]-1,a[0]);this.restFechaFinEv=Math.round(Math.abs((n.valueOf()-e.valueOf())/t)),this.restFechaFinProroga=Math.round(Math.abs((c.valueOf()-e.valueOf())/t))})}getPaperList(){this.articulosService.getPaperEvaluators().subscribe(i=>{this.paperList=i.data.filter(i=>"Sin Evaluar"===i.estadoArticuloNombre||"Enviado"===i.estadoArticuloNombre),this.assignedPaperList=this.paperList.map(i=>({idEval1:i.evaluadores[0].id,idEval2:i.evaluadores[1].id,idEval3:i.evaluadores[2].id,idArticulo:i.idArticulo,nombreArticulo:i.nombreArticulo,nomEval:i.evaluadores})),this.showAssignedPaperList=this.assignedPaperList.slice()})}getEvaluators(){this.evaluatorService.getEvaluatorsGroup().subscribe(i=>{this.evaluatorList=i.data})}selectOption1(i,t){this.assignedPaperList=this.assignedPaperList.map(e=>(t.idArticulo===e.idArticulo&&(e.idEval2!==+i&&e.idEval3!==+i?e.idEval1=+i:(alert("Evaluador ya asignado en este mismo paper"),t.idEval1=null)),e))}selectOption2(i,t){this.assignedPaperList=this.assignedPaperList.map(e=>(t.idArticulo===e.idArticulo&&(e.idEval1!==+i&&e.idEval3!==+i?e.idEval2=+i:(alert("Evaluador ya asignado en este mismo paper"),t.idEval2=null)),e))}selectOption3(i,t){this.assignedPaperList=this.assignedPaperList.map(e=>(t.idArticulo===e.idArticulo&&(e.idEval2!==+i&&e.idEval1!==+i?e.idEval3=+i:(alert("Evaluador ya asignado en este mismo paper"),t.idEval3=null)),e))}search(i){this.showAssignedPaperList=i}eliminarYAsignar(i,t){this.assignedPaperList=this.assignedPaperList.map(e=>(e.idArticulo===i.idArticulo&&(e.idEval1===t.id?e.idEval1=null:e.idEval2===t.id?e.idEval2=null:e.idEval3=null),e)),this.showAssignedPaperList=this.assignedPaperList.slice()}}return i.\u0275fac=function(t){return new(t||i)(n.Mb(c.a),n.Mb(r.a),n.Mb(l.a))},i.\u0275cmp=n.Gb({type:i,selectors:[["app-control-board"]],decls:35,vars:7,consts:[[1,"container-fluid"],[1,"contenidos"],[1,"row","justify-content-center"],[1,"text-center","col-md-3"],["ngbPopover","En esta pantalla podr\xe1s observar todos los art\xedculos con su correspondiente estado, adem\xe1s podr\xe1s eliminar y reasignar nuevos evaluadores","popoverClass","popover","placement","bottom","popoverTitle","Inforormaci\xf3n de la pantalla:",1,"col-sm-1"],[1,"fas","fa-info-circle","bigger"],[1,"row","justify-content-between"],[1,"col-md-5",3,"fullList","attribFilter","listEvent"],[1,"col-md-3"],["popoverClass","popover","placement","top","popoverTitle","Tiempo restante de evaluaci\xf3n",3,"ngbPopover"],[1,"fas","fa-clock","clock","pt-3"],["popoverClass","popover","placement","top","popoverTitle","Tiempo restante para el fin de prorroga de evaluaciones:",3,"ngbPopover"],[1,"table","text-center","table-hover","table-bordered"],[1,"thead"],[1,"col-md-2"],["class","align-items-center",4,"ngFor","ngForOf"],[1,"align-items-center"],[4,"ngIf"],[1,"row","px-2"],[1,"col-md-6"],["type","reset","disabled","",1,"redondo",3,"ngClass"],[1,"row","px-2","pt-1"],["class","row px-2 pt-3",4,"ngIf"],[1,"row","px-2","pt-3"],[1,"btn","btn-secondary",3,"click"],[1,"col-sm-12"],["name","eval",1,"form-control",3,"change"],["hidden","",3,"selected"],[3,"value","selected",4,"ngFor","ngForOf"],[3,"value","selected"]],template:function(i,t){1&i&&(n.Rb(0,"div",0),n.Rb(1,"div",1),n.Nb(2,"hr"),n.Rb(3,"div",2),n.Rb(4,"h3",3),n.Jc(5,"Tablero de Control"),n.Qb(),n.Rb(6,"a",4),n.Nb(7,"i",5),n.Qb(),n.Qb(),n.Nb(8,"hr"),n.Qb(),n.Nb(9,"br"),n.Rb(10,"div",6),n.Rb(11,"app-search",7),n.bc("listEvent",function(i){return t.search(i)}),n.Qb(),n.Rb(12,"div",8),n.Rb(13,"h5"),n.Rb(14,"a",9),n.Nb(15,"i",10),n.Qb(),n.Jc(16),n.Qb(),n.Qb(),n.Rb(17,"div",8),n.Rb(18,"h5"),n.Rb(19,"a",11),n.Nb(20,"i",10),n.Qb(),n.Jc(21),n.Qb(),n.Qb(),n.Qb(),n.Rb(22,"table",12),n.Rb(23,"thead",13),n.Rb(24,"tr"),n.Rb(25,"th",8),n.Jc(26,"Art\xedculo"),n.Qb(),n.Rb(27,"th",14),n.Jc(28,"Evaluador 1"),n.Qb(),n.Rb(29,"th",14),n.Jc(30,"Evaluador 2"),n.Qb(),n.Rb(31,"th",14),n.Jc(32,"Evaluador 3"),n.Qb(),n.Qb(),n.Qb(),n.Rb(33,"tbody"),n.Hc(34,P,9,7,"tr",15),n.Qb(),n.Qb(),n.Qb()),2&i&&(n.Ab(11),n.lc("fullList",t.assignedPaperList)("attribFilter",t.nombreArticulo),n.Ab(3),n.nc("ngbPopover","Dias restantes: ",t.restFechaFinEv," "),n.Ab(2),n.Lc("\xa0Fin Evaluaci\xf3n: ",t.fechaFinEv,""),n.Ab(3),n.nc("ngbPopover","Dias restantes: ",t.restFechaFinProroga," "),n.Ab(2),n.Lc("\xa0Fin Prorroga: ",t.fechaFinProrroga,""),n.Ab(13),n.lc("ngForOf",t.showAssignedPaperList))},directives:[s.b,d.a,o.n,o.o,o.m],styles:[".container-fluid[_ngcontent-%COMP%]{background-color:#f4f4f4}.contenidos[_ngcontent-%COMP%]{padding-bottom:3rem}.thead[_ngcontent-%COMP%]{background-color:#c8e5f1}.greyned[_ngcontent-%COMP%]{color:grey}.btn-primary[_ngcontent-%COMP%]{background-color:#3cafe0;border:none}i[_ngcontent-%COMP%]{cursor:pointer}i[_ngcontent-%COMP%]:hover{color:blue}.fa[_ngcontent-%COMP%], .fas[_ngcontent-%COMP%]{font-size:1.25rem;color:#00609c}hr[_ngcontent-%COMP%]{border:1px solid #00609c}@media (min-width:768px){hr[_ngcontent-%COMP%]{margin-left:25%;margin-right:25%}.container-fluid[_ngcontent-%COMP%]{padding:5rem}}.redondo[_ngcontent-%COMP%]{display:block;width:25px;height:25px;border-radius:50%}.rojo[_ngcontent-%COMP%]{background-color:#fa4f4f;border:#d63333}.verde[_ngcontent-%COMP%]{background-color:#6dec6d;border:#6dec6d}[_nghost-%COMP%] .popover .popover-header{background-color:#3cafe0}.bigger[_ngcontent-%COMP%]{font-size:170%;margin-bottom:1rem}"]}),i})()}];let O=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=n.Kb({type:i}),i.\u0275inj=n.Jb({imports:[[a.d.forChild(C)],a.d]}),i})();var F=e("pKmL");let L=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=n.Kb({type:i}),i.\u0275inj=n.Jb({imports:[[o.c,O,F.a,s.a]]}),i})()}}]);