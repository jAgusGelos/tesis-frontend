(window.webpackJsonp=window.webpackJsonp||[]).push([[19],{"9HYq":function(s,e,t){"use strict";t.r(e),t.d(e,"CongressModule",function(){return p});var o=t("mrSG"),r=t("fXoL"),n=t("ofXK"),i=t("pKmL"),c=t("tk/3"),g=t("tyNb"),a=t("5eHb"),d=t("VRfU");let h=class{constructor(s,e,t){this.congressService=s,this.router=e,this.toastr=t,this.congressList=[],this.edit=!1,this.congress={},this.sedes=[],this.showComponent="list",this.router.routeReuseStrategy.shouldReuseRoute=()=>!1}ngOnInit(){window.scrollTo(0,0),this.getCongress(),this.getSedes()}getSedes(){this.congressService.getSedes().subscribe(s=>{this.sedes=s.data})}getCongress(){this.congressService.getCongress().subscribe(s=>{this.congressList=s.data,this.congressList=this.congressList.map(s=>({id:s.id,sede:s.sede,nombre_sede:s.nombre_sede,ano:s.a\u00f1o,nombre:s.nombre,chairPrincipal:s.chairPrincipal,coordLocal:s.coordLocal}))})}newCongress(){this.edit=!this.edit,this.congress={}}editCongress(s){this.edit=!this.edit,this.congress=s}deleteCongress(s){this.congressService.deleteCongress(s).subscribe(s=>{this.toastr.success("El congreso ha sido eliminado correctamente"),this.router.navigateByUrl("/congreso")})}toggleCreateCongress(s){this.congressService.postCongress(s).subscribe(s=>{console.log("Estamos aCAAA"),this.toastr.success("Congreso Creado Correctamente"),this.router.navigateByUrl("/congreso")})}toggleEditCongress(s){this.congressService.putCongress(s).subscribe(s=>{this.toastr.success("Congreso Modificado Correctamente"),this.router.navigateByUrl("/congreso")})}};h.ctorParameters=()=>[{type:d.a},{type:g.b},{type:a.d}],h=Object(o.c)([Object(r.o)({selector:"app-congress",template:"<div class=\"container-fluid\">\n  <app-congress-list *ngIf=\"!edit\"\n  (newCongressEvent)='newCongress()' [congressList] = 'congressList'\n  (editCongressEvent)='editCongress($event)' (deleteCongressEvent)='deleteCongress($event)'>\n  </app-congress-list>\n  <app-congress-form *ngIf=\"edit\" [congress]='congress' [sedes]='sedes'\n  (congressEmitter)='toggleCreateCongress($event)'\n  (cancelCongress)='newCongress()' (editCongress) ='toggleEditCongress($event)'>\n</app-congress-form>\n</div>\n\n",styles:[""]})],h);const l=[{path:"",component:h}];let C=class{};C=Object(o.c)([Object(r.N)({imports:[g.c.forChild(l)],exports:[g.c]})],C);let p=class{};p=Object(o.c)([Object(r.N)({declarations:[h],imports:[n.c,C,i.a,c.c],schemas:[r.j],providers:[c.c]})],p)}}]);
//# sourceMappingURL=19.js.map