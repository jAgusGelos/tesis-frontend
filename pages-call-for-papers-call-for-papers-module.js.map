{"version":3,"sources":["./src/app/pages/call-for-papers/call-for-papers-routing.module.ts","./src/app/pages/call-for-papers/call-for-papers.component.html","./src/app/pages/call-for-papers/call-for-papers.component.ts","./src/app/pages/call-for-papers/call-for-papers.module.ts"],"names":[],"mappings":"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","file":"pages-call-for-papers-call-for-papers-module.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { RouterModule, Routes } from '@angular/router';\nimport { CallForPapersComponent } from './call-for-papers.component';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: CallForPapersComponent\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule]\n})\nexport class CallForPapersRoutingModule { }\n","<div class=\"container-fluid\">\n  <app-paper-list *ngIf=\"!edit && okey && !ready && !revision\" (newPaperEvent)='newPaper()'\n  [paperList]='paperList'\n  (finalPaperEvent)='finalPaper($event)'\n  (revisionEvent)='verRevision($event)'\n  (editPaperEvent)='editPaper($event)' (deletePaperEvent)='deletePaper($event)'></app-paper-list>\n\n  <app-paper-form  *ngIf=\"edit\"\n  (sendEmitter)='sendPaper($event)'\n  [simposios] = \"simposios\"\n  [paper]='paper' (paperEmitter)='toggleCreatePaper($event)'\n  (cancelPaper)='newPaper()'></app-paper-form>\n\n  <app-paper-ready\n  *ngIf=\"ready\"\n  (paperEmitter)='entregaFinal($event)'\n  [paper]='paper'\n  (cancelPaper)='volverFinalPaper()'></app-paper-ready>\n\n  <app-revision-autor\n  *ngIf=\"revision\"\n  [paper]='paper'\n  (cancelRevision)='volverRevision()'\n  ></app-revision-autor>\n\n\n</div>\n","import { Component, OnInit } from '@angular/core';\nimport { Router } from '@angular/router';\nimport { ToastrService } from 'ngx-toastr';\nimport { IntPaper } from 'src/app/core/models/IntPaper';\nimport { PaperService } from 'src/app/core/services/paper.service';\n\n@Component({\n  selector: 'app-call-for-papers',\n  templateUrl: './call-for-papers.component.html',\n  styleUrls: ['./call-for-papers.component.css']\n})\nexport class CallForPapersComponent implements OnInit {\n\n  paperList = [];\n  edit = false;\n  paper = {};\n  simposios = [];\n  okey = false;\n  ready = false;\n  revision = false;\n\n  constructor(private paperService: PaperService,\n              private router: Router,\n              private toastr: ToastrService,\n              ) {\n                this.router.routeReuseStrategy.shouldReuseRoute = () => {\n                  return false;\n                }; }\n\n  ngOnInit(): void {\n    window.scrollTo(0, 0);\n    this.getSimposios();\n    this.getPaper();\n  }\n\n  getSimposios(): void {\n    this.paperService.getSimposiosActivos().subscribe((res: any) => {\n      this.simposios = res.data;\n    });\n  }\n\n  getPaper(): void {\n    this.paperService.getPaper().subscribe((res: any) => {\n      this.paperList = res.data;\n      this.okey = true;\n    });\n  }\n\n  newPaper(): void {\n    this.edit = !this.edit;\n    this.paper = {\n      id: '',\n      autores: [],\n      responsable: '',\n      nombre: '',\n      estado: 'sin subir',\n      simposio: '',\n      archivo: null,\n    };\n  }\n\n  editPaper(paper: any): void {\n    this.edit = !this.edit;\n    this.paper = paper;\n  }\n\n  deletePaper(item: IntPaper): void {\n    this.paperService.deletePaper(item).subscribe((res: any) => {\n      this.toastr.success('El paper ha sido eliminado correctamente');\n      this.router.navigateByUrl('/callForPapers');\n    });\n  }\n\n\n  /**\n   *\n   * @param x Objeto compuesto de IntPaper\n   * Recibe un paper, chequea que tenga un id.\n   * Si lo tiene hace un PUT al back. Actualiza un paper creado.\n   * Si no lo tiene crea un nuevo paper.\n   */\n   toggleCreatePaper(item: any): void {\n    console.log(item);\n\n    if (item.id === '') {\n      this.paperService.postPaper(item).subscribe((res: any) => {\n        this.toastr.success('Paper Creado Correctamente');\n        this.router.navigateByUrl('/callForPapers');\n      });\n    }\n    else{\n      this.paperService.putPaper(item).subscribe((res: any) => {\n        this.toastr.success('Paper Modificado Correctamente');\n        this.router.navigateByUrl('/callForPapers');\n      });\n    }\n  }\n\n  sendPaper(item: any): void {\n    this.paperService.sendPaper(item).subscribe((res: any) => {\n      this.toastr.success('Paper Enviado');\n      this.router.navigateByUrl('/callForPapers');\n    });\n  }\n\n\n  finalPaper(item: any): void {\n    // ir a la página para el camera ready\n    this.ready = true;\n    this.paper = item;\n\n  }\n\n  volverFinalPaper(): void {\n    this.ready = false;\n  }\n\n  verRevision(item: any): void {\n    // Abrir la revisión\n    this.paper = item;\n    this.revision = true;\n  }\n\n  entregaFinal(item: any): void {\n    // Se envia el paper ya camera ready listo\n    this.paperService.finalPaper(item).subscribe((res: any) => {\n      this.toastr.success('El camera ready ha sido entregado');\n      this.router.navigateByUrl('/callForPapers');\n    });\n  }\n\n  volverRevision(): void {\n    this.revision = false;\n  }\n\n}\n\n","import { CUSTOM_ELEMENTS_SCHEMA, NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\n\nimport { CallForPapersRoutingModule } from './call-for-papers-routing.module';\nimport { CallForPapersComponent } from './call-for-papers.component';\nimport { CoreModule } from 'src/app/core/core.module';\n\n\n@NgModule({\n  declarations: [\n    CallForPapersComponent,\n  ],\n  imports: [\n    CommonModule,\n    CallForPapersRoutingModule,\n    CoreModule\n  ],\n  schemas: [CUSTOM_ELEMENTS_SCHEMA]\n})\nexport class CallForPapersModule { }\n"],"sourceRoot":"webpack:///"}