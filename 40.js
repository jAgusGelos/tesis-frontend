(window.webpackJsonp=window.webpackJsonp||[]).push([[40],{xRyE:function(i,o,n){"use strict";n.r(o),n.d(o,"InscripcionFisicaModule",function(){return u});var e=n("mrSG"),s=n("fXoL"),r=n("ofXK"),t=n("tyNb"),a=n("3Pt+"),c=n("5eHb"),l=n("by3J"),d=n("WPk3"),m=n("f4AX");let p=class{constructor(i,o,n,e,s){this.formBuilder=i,this.userService=o,this.tarifaService=n,this.inscriptionService=e,this.toast=s,this.submitted=!1,this.userChecked=!1,this.tipoDniList=[],this.tarifaList=[],this.datos={email:"",nombre:"",apellido:"",fechaNacimiento:"",dni:"",tipoDni:""}}ngOnInit(){window.scrollTo(0,0),this.formCorreo=this.formBuilder.group({correo:["",[a.g.required,a.g.email]]}),this.formInscripcion=this.formBuilder.group({email:[this.datos.email,[a.g.required,a.g.email]],nombre:[this.datos.nombre,[a.g.required]],apellido:[this.datos.apellido,[a.g.required]],fechaNacimiento:[this.datos.fechaNacimiento,[a.g.required]],dni:[this.datos.dni,[a.g.required,a.g.min(0)]],tipoDni:[this.datos.tipoDni,[a.g.required]]}),this.getTiposDni(),this.getTarifas(),this.formInscripcion.disable()}checkUser(){if(this.submitted=!0,this.formCorreo.invalid)return void this.toast.error("Ingrese una direcci\xf3n de correo v\xe1lida.");const i=this.formCorreo.controls.correo.value;this.userService.checkUser(i).subscribe(o=>{this.submitted=!1;const n=document.getElementById("datos-personales"),e=o.data;0!==e.length?(this.formInscripcion.setValue({nombre:e.nombre,apellido:e.apellido,email:e.email,fechaNacimiento:e.fechaNacimiento,dni:e.dni,tipoDni:e.tipoDni}),this.userChecked=!0,this.formInscripcion.disable(),this.toast.success("Usuario Verificado!"),n.click()):(this.userChecked=!1,this.formInscripcion.reset(),this.formInscripcion.enable(),this.formInscripcion.patchValue({email:i}),this.toast.info("No existe un usuario registrado con ese correo."),n.click())})}inscribir(){if(this.userChecked){const i=this.formInscripcion.controls.email.value;this.inscriptionService.inscripcionFisicaConUsuario(i).subscribe(i=>{this.toast.success("Inscripci\xf3n realizada con \xe9xito!"),this.clearAll()},i=>{this.toast.error(i.error)})}else if(this.formInscripcion.valid){const i={email:this.formInscripcion.controls.email.value,nombre:this.formInscripcion.controls.nombre.value,apellido:this.formInscripcion.controls.apellido.value,fechaNacimiento:this.formInscripcion.controls.fechaNacimiento.value,dni:this.formInscripcion.controls.dni.value,tipoDni:this.formInscripcion.controls.tipoDni.value};this.inscriptionService.inscripcionFisicaSinUsuario(i).subscribe(i=>{this.toast.success("Inscripci\xf3n realizada con \xe9xito!"),this.clearAll()},i=>{this.toast.error(i.error)})}else{document.getElementById("datos-personales").click(),this.toast.warning("Por favor, complete el formulario de datos personales.")}}goToInscription(){const i=document.getElementById("inscripcion");this.userChecked?i.click():this.formInscripcion.valid?(this.submitted=!1,i.click()):this.toast.warning("Por favor, complete todos los campos.")}handleDateFormat(){const i=this.datos.fechaNacimiento.split("-");this.datos.fechaNacimiento=i[2]+"/"+i[1]+"/"+i[0]}clearAll(){this.formCorreo.reset(),this.formInscripcion.reset(),this.formInscripcion.disable();document.getElementById("verificacion-usuario").click()}getTiposDni(){this.userService.getDni().subscribe(i=>{this.tipoDniList=i})}getTarifas(){this.tarifaService.getTarifas().subscribe(i=>{this.tarifaList=i.data,console.log(this.tarifaList)})}};p.ctorParameters=()=>[{type:a.a},{type:m.a},{type:d.a},{type:l.a},{type:c.d}],p=Object(e.c)([Object(s.o)({selector:"app-inscripcion-fisica",template:'<div class="container-fluid">\n    <div class="contenidos">\n      <hr>\n      <h3 class="text-center">Inscripci\xf3n F\xedsica</h3>\n      <hr>\n    </div>\n    <div class="container">\n      <div class="accordion" id="accordionExample">\n        <div class="accordion-item">\n          <h2 class="accordion-header" id="headingOne">\n            <button class="accordion-button" type="button" id="verificacion-usuario" data-bs-toggle="collapse" data-bs-target="#collapseOne" aria-expanded="true" aria-controls="collapseOne">\n              Verificaci\xf3n de Usuario\n            </button>\n          </h2>\n          <div id="collapseOne" class="accordion-collapse collapse show" aria-labelledby="headingOne" data-bs-parent="#accordionExample">\n            <div class="accordion-body">\n              <form [formGroup]="formCorreo">\n                <div class="row justify-content-md-center">\n                    <div class="col-auto col-form-label">\n                        <label for="correo" class="form-label">Correo</label>\n                    </div>\n                    <div class="col-md-4">\n                        <input type="email"  class="form-control" id="correo" onClick="this.select();"\n                        formControlName="correo" [ngClass]="{\'is-invalid\': submitted && formCorreo.controls.correo.errors}">\n                    </div>\n                    <div class="col-auto">\n                        <a class="btn btn-primary" role="button" (click)="checkUser()">Verificar Usuario</a>\n                    </div>\n                </div>\n              </form>\n            </div>\n          </div>\n        </div>\n        <div class="accordion-item">\n          <h2 class="accordion-header" id="headingTwo">\n            <button class="accordion-button collapsed" type="button" id="datos-personales" data-bs-toggle="collapse" data-bs-target="#collapseTwo" aria-expanded="false" aria-controls="collapseTwo">\n              Datos Personales\n            </button>\n          </h2>\n          <div id="collapseTwo" class="accordion-collapse collapse" aria-labelledby="headingTwo" data-bs-parent="#accordionExample">\n            <div class="accordion-body">\n              <div class="container-md">\n                <form [formGroup]="formInscripcion">\n                    <div class="row datos-personales">\n                        <div class="col-md-4">\n                            <label for="nombre" class="form-label">Nombre</label>\n                            <input type="text"  class="form-control" id="nombre" onClick="this.select();"\n                            formControlName="nombre" [ngClass]="{\'is-invalid\': submitted && formInscripcion.controls.nombre.errors}">\n                        </div>\n                        <div class="col-md-4">\n                            <label for="apellido" class="form-label">Apellido</label>\n                            <input type="text"  class="form-control" id="apellido" onClick="this.select();"\n                            formControlName="apellido" [ngClass]="{\'is-invalid\': submitted && formInscripcion.controls.apellido.errors}">\n                        </div>\n                    </div>\n                    <div class="row datos-personales">\n                        <div class="col-md-4">\n                            <label for="email" class="form-label">Correo</label>\n                            <input type="email"  class="form-control" id="email" onClick="this.select();"\n                            formControlName="email" [ngClass]="{\'is-invalid\': submitted && formInscripcion.controls.email.errors}">\n                        </div>\n                        <div class="col-md-2">\n                            <label for="fechaNacimiento" class="form-label">Fecha de Nacimiento</label>\n                            <input type="date"  class="form-control" id="fechaNacimiento" onClick="this.select();"\n                            formControlName="fechaNacimiento" [ngClass]="{\'is-invalid\': submitted && formInscripcion.controls.fechaNacimiento.errors}">\n                        </div>\n                    </div>\n                    <div class="row datos-personales">\n                        <div class="col-md-4">\n                            <label for="tipoDni" class="form-label">Tipo de Documento</label>\n                            <select class="form-select" id="tipoDni" formControlName="tipoDni" [ngClass]="{\'is-invalid\': submitted && formInscripcion.controls.tipoDni.errors}">\n                                <option *ngFor="let item of tipoDniList" value="{{item.id}}" [selected]=\'item.nombre===datos.tipoDni\' >{{item.nombre}}</option>\n                            </select>\n                        </div>\n                        <div class="col-md-4">\n                            <label for="dni" class="form-label">N\xfamero de Documento</label>\n                            <input type="number"  class="form-control" id="dni" onClick="this.select();" min="0"\n                            formControlName="dni" [ngClass]="{\'is-invalid\': submitted && formInscripcion.controls.dni.errors}">\n                        </div>\n                    </div>\n                    <div class="row">\n                      <div class="col-md-2">\n                        <a class="btn btn-primary" role="button" (click)="goToInscription()">Continuar</a>\n                      </div>\n                  </div>\n                </form>\n            </div>\n            </div>\n          </div>\n        </div>\n        <div class="accordion-item">\n          <h2 class="accordion-header" id="headingThree">\n            <button class="accordion-button collapsed" type="button" id="inscripcion" data-bs-toggle="collapse" data-bs-target="#collapseThree" aria-expanded="false" aria-controls="collapseThree">\n              Inscripci\xf3n\n            </button>\n          </h2>\n          <div id="collapseThree" class="accordion-collapse collapse" aria-labelledby="headingThree" data-bs-parent="#accordionExample">\n            <div class="accordion-body">\n              <div class="row justify-content-md-center">\n                <div class="col-md-2" *ngFor="let tar of tarifaList">\n                  <div class="card">\n                      <div class="card-body text-center">\n                        <h5 class="card-title">{{tar.nombre}}</h5>\n                        <h5 class="card-title">{{tar.precio | currency:ARS}}</h5>\n                        <a class="btn btn-primary stretched-link" (click)="inscribir()">Inscribir</a>\n                      </div>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n</div>\n  \n',styles:["@media (min-width: 768px) {\n    hr{\n        margin-left: 25%;\n        margin-right: 25%;\n        border:#00609C solid 1px;\n    }\n  \n    .container-fluid{\n        padding: 5rem;\n        background-color: #F4F4F4;\n    }\n}\n\n.card{\n    border-radius: 10px;\n}\n\n.card:hover {\n    border-color: #3CAFE0;\n}\n\n.contenidos{\n    padding-bottom: 10px;\n}\n\n.datos-personales{\n    margin-bottom: 15px;\n}\n\n.btn{\n    border: none;\n}\n\n.btn-primary{\n    background-color: #3CAFE0 ;\n}\n\n.btn-primary:hover{\n    background-color: #3994bb ;\n}\n\ni{\n    padding-top: 0.5rem;\n    cursor: pointer;\n}\n\n.fas{\n    font-size: 1.25rem;\n    color: #00609C;\n}\n"]})],p);const h=[{path:"",component:p}];let b=class{};b=Object(e.c)([Object(s.N)({imports:[t.c.forChild(h)],exports:[t.c]})],b);var f=n("pKmL");let u=class{};u=Object(e.c)([Object(s.N)({declarations:[p],imports:[r.c,b,f.a,a.f,a.b]})],u)}}]);
//# sourceMappingURL=40.js.map