(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{"6TGS":function(t,i,e){"use strict";e.r(i),e.d(i,"ControlBoardModule",function(){return O});var o=e("ofXK"),a=e("tyNb"),n=e("fXoL"),c=e("y6im"),r=e("isFk"),l=e("VRfU"),s=e("1kSV"),d=e("bcAm");function b(t,i){if(1&t){const t=n.Sb();n.Rb(0,"div",23),n.Rb(1,"a",24),n.bc("click",function(){n.Bc(t);const i=n.dc(2).$implicit;return n.dc().eliminarYAsignar(i,i.nomEval[0])}),n.Jc(2,"Eliminar y Reasignar"),n.Qb(),n.Qb()}}function v(t,i){if(1&t&&(n.Rb(0,"td"),n.Rb(1,"div",18),n.Rb(2,"h6"),n.Jc(3),n.Qb(),n.Qb(),n.Rb(4,"div",18),n.Rb(5,"div",19),n.Jc(6," Confirmado "),n.Qb(),n.Rb(7,"div",8),n.Nb(8,"button",20),n.Qb(),n.Qb(),n.Rb(9,"div",21),n.Rb(10,"div",19),n.Jc(11," Evaluado "),n.Qb(),n.Rb(12,"div",8),n.Nb(13,"button",20),n.Qb(),n.Qb(),n.Hc(14,b,3,0,"div",22),n.Qb()),2&t){const t=n.dc().$implicit;n.Ab(3),n.Mc("",t.nomEval[0].nombre," ",t.nomEval[0].apellido,""),n.Ab(5),n.lc("ngClass",t.nomEval[0].is_active?"verde":"rojo"),n.Ab(5),n.lc("ngClass",3===t.nomEval[0].idEstadoEvaluacion?"verde":"rojo"),n.Ab(1),n.lc("ngIf",!(t.nomEval[0].idEstadoEvaluacion>=2))}}function u(t,i){if(1&t&&(n.Rb(0,"option",29),n.Jc(1),n.Qb()),2&t){const t=i.$implicit,e=n.dc(2).$implicit;n.mc("value",t.idEvaluador),n.lc("selected",e.idEval1===t.idEvaluador),n.Ab(1),n.Mc("",t.nombreEv," ",t.apellidoEv,"")}}function p(t,i){if(1&t){const t=n.Sb();n.Rb(0,"td"),n.Rb(1,"div",25),n.Rb(2,"select",26),n.bc("change",function(i){n.Bc(t);const e=n.dc().$implicit;return n.dc().selectOption1(i.target.value,e)}),n.Rb(3,"option",27),n.Jc(4,"Evaluador 1"),n.Qb(),n.Hc(5,u,2,4,"option",28),n.Qb(),n.Qb(),n.Qb()}if(2&t){const t=n.dc().$implicit,i=n.dc();n.Ab(3),n.lc("selected",null===t.idEval1),n.Ab(2),n.lc("ngForOf",i.evaluatorList)}}function g(t,i){if(1&t){const t=n.Sb();n.Rb(0,"div",23),n.Rb(1,"a",24),n.bc("click",function(){n.Bc(t);const i=n.dc(2).$implicit;return n.dc().eliminarYAsignar(i,i.nomEval[1])}),n.Jc(2,"Eliminar y Reasignar"),n.Qb(),n.Qb()}}function m(t,i){if(1&t&&(n.Rb(0,"td"),n.Rb(1,"div",18),n.Rb(2,"h6"),n.Jc(3),n.Qb(),n.Qb(),n.Rb(4,"div",18),n.Rb(5,"div",19),n.Jc(6," Confirmado "),n.Qb(),n.Rb(7,"div",8),n.Nb(8,"button",20),n.Qb(),n.Qb(),n.Rb(9,"div",21),n.Rb(10,"div",19),n.Jc(11," Evaluado "),n.Qb(),n.Rb(12,"div",8),n.Nb(13,"button",20),n.Qb(),n.Qb(),n.Hc(14,g,3,0,"div",22),n.Qb()),2&t){const t=n.dc().$implicit;n.Ab(3),n.Mc("",t.nomEval[1].nombre," ",t.nomEval[1].apellido,""),n.Ab(5),n.lc("ngClass",t.nomEval[1].is_active?"verde":"rojo"),n.Ab(5),n.lc("ngClass",3===t.nomEval[1].idEstadoEvaluacion?"verde":"rojo"),n.Ab(1),n.lc("ngIf",!(t.nomEval[1].idEstadoEvaluacion>=2))}}function h(t,i){if(1&t&&(n.Rb(0,"option",29),n.Jc(1),n.Qb()),2&t){const t=i.$implicit,e=n.dc(2).$implicit;n.mc("value",t.idEvaluador),n.lc("selected",e.idEval2===t.idEvaluador),n.Ab(1),n.Mc("",t.nombreEv," ",t.apellidoEv,"")}}function f(t,i){if(1&t){const t=n.Sb();n.Rb(0,"td"),n.Rb(1,"div",25),n.Rb(2,"select",26),n.bc("change",function(i){n.Bc(t);const e=n.dc().$implicit;return n.dc().selectOption2(i.target.value,e)}),n.Rb(3,"option",27),n.Jc(4,"Evaluador 2"),n.Qb(),n.Hc(5,h,2,4,"option",28),n.Qb(),n.Qb(),n.Qb()}if(2&t){const t=n.dc().$implicit,i=n.dc();n.Ab(3),n.lc("selected",null===t.idEval2),n.Ab(2),n.lc("ngForOf",i.evaluatorList)}}function E(t,i){if(1&t){const t=n.Sb();n.Rb(0,"div",23),n.Rb(1,"a",24),n.bc("click",function(){n.Bc(t);const i=n.dc(2).$implicit;return n.dc().eliminarYAsignar(i,i.nomEval[2])}),n.Jc(2,"Eliminar y Reasignar"),n.Qb(),n.Qb()}}function R(t,i){if(1&t&&(n.Rb(0,"td"),n.Rb(1,"div",18),n.Rb(2,"h6"),n.Jc(3),n.Qb(),n.Qb(),n.Rb(4,"div",18),n.Rb(5,"div",19),n.Jc(6," Confirmado "),n.Qb(),n.Rb(7,"div",8),n.Nb(8,"button",20),n.Qb(),n.Qb(),n.Rb(9,"div",21),n.Rb(10,"div",19),n.Jc(11," Evaluado "),n.Qb(),n.Rb(12,"div",8),n.Nb(13,"button",20),n.Qb(),n.Qb(),n.Hc(14,E,3,0,"div",22),n.Qb()),2&t){const t=n.dc().$implicit;n.Ab(3),n.Mc("",t.nomEval[2].nombre," ",t.nomEval[2].apellido,""),n.Ab(5),n.lc("ngClass",t.nomEval[2].is_active?"verde":"rojo"),n.Ab(5),n.lc("ngClass",3===t.nomEval[2].idEstadoEvaluacion?"verde":"rojo"),n.Ab(1),n.lc("ngIf",!(t.nomEval[2].idEstadoEvaluacion>=2))}}function A(t,i){if(1&t&&(n.Rb(0,"option",29),n.Jc(1),n.Qb()),2&t){const t=i.$implicit,e=n.dc(2).$implicit;n.lc("value",t.idEvaluador)("selected",e.idEval3===t.idEvaluador),n.Ab(1),n.Mc("",t.nombreEv," ",t.apellidoEv,"")}}function Q(t,i){if(1&t){const t=n.Sb();n.Rb(0,"td"),n.Rb(1,"div",25),n.Rb(2,"select",26),n.bc("change",function(i){n.Bc(t);const e=n.dc().$implicit;return n.dc().selectOption3(i.target.value,e)}),n.Rb(3,"option",27),n.Jc(4,"Evaluador 3"),n.Qb(),n.Hc(5,A,2,4,"option",28),n.Qb(),n.Qb(),n.Qb()}if(2&t){const t=n.dc().$implicit,i=n.dc();n.Ab(3),n.lc("selected",null===t.idEval3),n.Ab(2),n.lc("ngForOf",i.evaluatorList)}}function P(t,i){if(1&t&&(n.Rb(0,"tr",16),n.Rb(1,"td"),n.Jc(2),n.Qb(),n.Hc(3,v,15,5,"td",17),n.Hc(4,p,6,2,"td",17),n.Hc(5,m,15,5,"td",17),n.Hc(6,f,6,2,"td",17),n.Hc(7,R,15,5,"td",17),n.Hc(8,Q,6,2,"td",17),n.Qb()),2&t){const t=i.$implicit;n.Ab(2),n.Kc(t.nombreArticulo),n.Ab(1),n.lc("ngIf",t.idEval1),n.Ab(1),n.lc("ngIf",!t.idEval1),n.Ab(1),n.lc("ngIf",t.idEval2),n.Ab(1),n.lc("ngIf",!t.idEval2),n.Ab(1),n.lc("ngIf",t.idEval3),n.Ab(1),n.lc("ngIf",!t.idEval3)}}const C=[{path:"",component:(()=>{class t{constructor(t,i,e){this.evaluatorService=t,this.articulosService=i,this.congressService=e,this.evaluatorList=[],this.idEval=0,this.assignedPaperList=[],this.showAssignedPaperList=[],this.nombreArticulo="nombreArticulo",this.restFechaFinEv=0,this.restFechaFinProroga=0}ngOnInit(){this.getPaperList(),this.getEvaluators(),this.getCongress()}getCongress(){this.congressService.getCongressById().subscribe(t=>{this.fechaFinEv=t.data[0].fechaFinEvaluacion.split(" ")[0],this.fechaFinProrroga=t.data[0].fechaFinReEv.split(" ")[0];const i=864e5,e=new Date,o=t.data[0].fechaFinEvaluacion.split(" ")[0].split("/"),a=t.data[0].fechaFinReEv.split(" ")[0].split("/"),n=new Date(o[2],o[1]-1,o[0]),c=new Date(a[2],a[1]-1,a[0]);this.restFechaFinEv=Math.round(Math.abs((n.valueOf()-e.valueOf())/i)),this.restFechaFinProroga=Math.round(Math.abs((c.valueOf()-e.valueOf())/i))})}getPaperList(){this.articulosService.getPaperEvaluators().subscribe(t=>{this.paperList=t.data.filter(t=>"Sin Evaluar"===t.estadoArticuloNombre||"Enviado"===t.estadoArticuloNombre),this.assignedPaperList=this.paperList.map(t=>({idEval1:t.evaluadores[0].id,idEval2:t.evaluadores[1].id,idEval3:t.evaluadores[2].id,idArticulo:t.idArticulo,nombreArticulo:t.nombreArticulo,nomEval:t.evaluadores})),this.showAssignedPaperList=this.assignedPaperList.slice()})}getEvaluators(){this.evaluatorService.getEvaluatorsGroup().subscribe(t=>{this.evaluatorList=t.data})}selectOption1(t,i){this.assignedPaperList=this.assignedPaperList.map(e=>(i.idArticulo===e.idArticulo&&(e.idEval2!==+t&&e.idEval3!==+t?e.idEval1=+t:(alert("Evaluador ya asignado en este mismo paper"),i.idEval1=null)),e))}selectOption2(t,i){this.assignedPaperList=this.assignedPaperList.map(e=>(i.idArticulo===e.idArticulo&&(e.idEval1!==+t&&e.idEval3!==+t?e.idEval2=+t:(alert("Evaluador ya asignado en este mismo paper"),i.idEval2=null)),e))}selectOption3(t,i){this.assignedPaperList=this.assignedPaperList.map(e=>(i.idArticulo===e.idArticulo&&(e.idEval2!==+t&&e.idEval1!==+t?e.idEval3=+t:(alert("Evaluador ya asignado en este mismo paper"),i.idEval3=null)),e))}search(t){this.showAssignedPaperList=t}eliminarYAsignar(t,i){this.assignedPaperList=this.assignedPaperList.map(e=>(e.idArticulo===t.idArticulo&&(e.idEval1===i.id?e.idEval1=null:e.idEval2===i.id?e.idEval2=null:e.idEval3=null),e)),this.showAssignedPaperList=this.assignedPaperList.slice()}}return t.\u0275fac=function(i){return new(i||t)(n.Mb(c.a),n.Mb(r.a),n.Mb(l.a))},t.\u0275cmp=n.Gb({type:t,selectors:[["app-control-board"]],decls:35,vars:7,consts:[[1,"container-fluid"],[1,"contenidos"],[1,"row","justify-content-center"],[1,"text-center","col-md-3"],["ngbPopover","En esta pantalla podr\xe1s observar todos los art\xedculos con su correspondiente estado, adem\xe1s podr\xe1s eliminar y reasignar nuevos evaluadores","popoverClass","popover","placement","bottom","popoverTitle","Inforormaci\xf3n de la pantalla:",1,"col-sm-1"],[1,"fas","fa-info-circle","bigger"],[1,"row","justify-content-between"],[1,"col-md-5",3,"fullList","attribFilter","listEvent"],[1,"col-md-3"],["popoverClass","popover","placement","top","popoverTitle","Tiempo restante de evaluaci\xf3n",3,"ngbPopover"],[1,"fas","fa-clock","clock","pt-3"],["popoverClass","popover","placement","top","popoverTitle","Tiempo restante para el fin de prorroga de evaluaciones:",3,"ngbPopover"],[1,"table","text-center","table-hover","table-bordered"],[1,"thead"],[1,"col-md-2"],["class","align-items-center",4,"ngFor","ngForOf"],[1,"align-items-center"],[4,"ngIf"],[1,"row","px-2"],[1,"col-md-6"],["type","reset","disabled","",1,"redondo",3,"ngClass"],[1,"row","px-2","pt-1"],["class","row px-2 pt-3",4,"ngIf"],[1,"row","px-2","pt-3"],[1,"btn","btn-secondary",3,"click"],[1,"col-sm-12"],["name","eval",1,"form-control",3,"change"],["hidden","",3,"selected"],[3,"value","selected",4,"ngFor","ngForOf"],[3,"value","selected"]],template:function(t,i){1&t&&(n.Rb(0,"div",0),n.Rb(1,"div",1),n.Nb(2,"hr"),n.Rb(3,"div",2),n.Rb(4,"h3",3),n.Jc(5,"Tablero de Control"),n.Qb(),n.Rb(6,"a",4),n.Nb(7,"i",5),n.Qb(),n.Qb(),n.Nb(8,"hr"),n.Qb(),n.Nb(9,"br"),n.Rb(10,"div",6),n.Rb(11,"app-search",7),n.bc("listEvent",function(t){return i.search(t)}),n.Qb(),n.Rb(12,"div",8),n.Rb(13,"h5"),n.Rb(14,"a",9),n.Nb(15,"i",10),n.Qb(),n.Jc(16),n.Qb(),n.Qb(),n.Rb(17,"div",8),n.Rb(18,"h5"),n.Rb(19,"a",11),n.Nb(20,"i",10),n.Qb(),n.Jc(21),n.Qb(),n.Qb(),n.Qb(),n.Rb(22,"table",12),n.Rb(23,"thead",13),n.Rb(24,"tr"),n.Rb(25,"th",8),n.Jc(26,"Art\xedculo"),n.Qb(),n.Rb(27,"th",14),n.Jc(28,"Evaluador 1"),n.Qb(),n.Rb(29,"th",14),n.Jc(30,"Evaluador 2"),n.Qb(),n.Rb(31,"th",14),n.Jc(32,"Evaluador 3"),n.Qb(),n.Qb(),n.Qb(),n.Rb(33,"tbody"),n.Hc(34,P,9,7,"tr",15),n.Qb(),n.Qb(),n.Qb()),2&t&&(n.Ab(11),n.lc("fullList",i.assignedPaperList)("attribFilter",i.nombreArticulo),n.Ab(3),n.nc("ngbPopover","Dias restantes: ",i.restFechaFinEv," "),n.Ab(2),n.Lc("\xa0Fin Evaluaci\xf3n: ",i.fechaFinEv,""),n.Ab(3),n.nc("ngbPopover","Dias restantes: ",i.restFechaFinProroga," "),n.Ab(2),n.Lc("\xa0Fin Prorroga: ",i.fechaFinProrroga,""),n.Ab(13),n.lc("ngForOf",i.showAssignedPaperList))},directives:[s.b,d.a,o.n,o.o,o.m],styles:[".container-fluid[_ngcontent-%COMP%]{background-color:#f4f4f4}.contenidos[_ngcontent-%COMP%]{padding-bottom:3rem}.thead[_ngcontent-%COMP%]{background-color:#c8e5f1}.greyned[_ngcontent-%COMP%]{color:grey}.btn-primary[_ngcontent-%COMP%]{background-color:#3cafe0;border:none}i[_ngcontent-%COMP%]{cursor:pointer}i[_ngcontent-%COMP%]:hover{color:blue}.fa[_ngcontent-%COMP%], .fas[_ngcontent-%COMP%]{font-size:1.25rem;color:#00609c}hr[_ngcontent-%COMP%]{border:1px solid #00609c}@media (min-width:768px){hr[_ngcontent-%COMP%]{margin-left:25%;margin-right:25%}.container-fluid[_ngcontent-%COMP%]{padding:5rem}}.redondo[_ngcontent-%COMP%]{display:block;width:25px;height:25px;border-radius:50%}.rojo[_ngcontent-%COMP%]{background-color:#fa4f4f;border:#d63333}.verde[_ngcontent-%COMP%]{background-color:#6dec6d;border:#6dec6d}[_nghost-%COMP%] .popover .popover-header{background-color:#3cafe0}.bigger[_ngcontent-%COMP%]{font-size:170%;margin-bottom:1rem}"]}),t})()}];let L=(()=>{class t{}return t.\u0275fac=function(i){return new(i||t)},t.\u0275mod=n.Kb({type:t}),t.\u0275inj=n.Jb({imports:[[a.d.forChild(C)],a.d]}),t})();var F=e("pKmL");let O=(()=>{class t{}return t.\u0275fac=function(i){return new(i||t)},t.\u0275mod=n.Kb({type:t}),t.\u0275inj=n.Jb({imports:[[o.c,L,F.a,s.a]]}),t})()},isFk:function(t,i,e){"use strict";e.d(i,"a",function(){return c});var o=e("AytR"),a=e("fXoL"),n=e("tk/3");let c=(()=>{class t{constructor(t){this.httpClient=t,this.apiURL=o.a.apiURL}getEvaluatorsByPaper(t){return this.httpClient.get(this.apiURL+"articulos/consultarEvaluadoresArticulo/?idArticulo="+t.id)}getPapersBySymposium(t){return this.httpClient.get(this.apiURL+"articulos/consultarArticulosXSimposio/"+t.id)}calificarArticulo(t){return this.httpClient.put(this.apiURL+"calificarArticulo/",t)}getCameraReady(){return this.httpClient.get(this.apiURL+"articulos/consultarArticulosCameraReady/")}getNotAssigned(t){return this.httpClient.get(this.apiURL+"articulos/consultarArticulosParaEventos/?idSimposio="+t)}post(t){return this.httpClient.post(this.apiURL+"asignarArticuloEvaluador/",t)}delete(t){return this.httpClient.delete(this.apiURL+"articulos/eliminarEvaluadorDeArticulo/",t)}getPaperEvaluators(){return this.httpClient.get(this.apiURL+"articulos/getArticulosEvaluadoresCompleto/")}}return t.\u0275fac=function(i){return new(i||t)(a.Yb(n.b))},t.\u0275prov=a.Ib({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()}}]);